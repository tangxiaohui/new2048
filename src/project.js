window.__require=function t(e,n,i){function o(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return o(e[c][1][t]||t)},l,l.exports,t,e,n,i)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({HTTP:[function(t,e,n){"use strict";cc._RF.push(e,"63638CMQA9NzY+sdoTbubAn","HTTP"),window.HTTP={HTTPTimeout:5e3,iMvid:1,maxFailTime:1,fileList:{},GET:function(t,e,n,i){var o=t;""!=(e=util.encodeTab(e))&&(o=o+"?"+e);var r=!1,c=function(){if(!r)if(r=!0,this.fileList[o]){if(this.fileList[o]++,this.fileList[o]>=this.maxFailTime)return i&&!hasReturnFail&&(hasReturnFail=!0,i()),void(this.fileList[o]=0);this.GET(t,e,n,i)}else this.fileList[o]=1,this.GET(t,e,n,i)}.bind(this),a=function(){this.fileList[o]=0}.bind(this),s=(new Date).Format("m:s.S");console.log(s+":get:",o);var u=cc.loader.getXMLHttpRequest();u.onreadystatechange=function(){if(4===u.readyState)if(u.status>=200&&u.status<300){if(n){var t=u.response;console.log("rev:",t);var e=JSON.parse(t);n(e)}a()}else c(),console.log("rev error:",o,u.readyState,u.status)},u.onerror=function(){console.log("[\u65ad\u7f51\u91cd\u8fde]"),c()},u.open("GET",o,!0),u.timeout=this.HTTPTimeout,u.send()},POST:function(t,e,n,i){var o=!1,r=function(){o||(o=!0,console.log(t,"[\u8fd4\u56de\u5931\u8d25]"),i&&i())},c=this.concatTab(e);if(console.log("POST url:",t,c),c.length>4e3)cc.error("\u6570\u636e\u8fc7\u957f,\u53d1\u9001\u5931\u8d25");else{var a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){if(4===a.readyState)if(a.status>=200&&a.status<300){var t=a.responseText;if(console.log("http \u8fd4\u56de\u4fe1\u606f",t),n){var e=JSON.parse(t);n(e)}}else r()},a.onerror=function(){r()},a.open("POST",t+"?"+c,!0),a.timeout=this.HTTPTimeout,a.send()}},PostBuffer:function(t,e,n){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var t=i.responseText;n(t)}else cc.log("HTTP POST return Error")},i.open("POST",t,!0),i.setRequestHeader("Content-Type","multipart/form-data"),i.timeout=this.HTTPTimeout,i.send(e)},sendMsg:function(t,e,n,i){var o=MSG_MAP,r="";void 0!==i&&o[e]&&o[e][n]&&o[e][n].send&&(r=SocketStruct.encode(i,o[e][n].send));var c={uMessageSize:32+r.length,uMainID:e,uAssistantID:n,uHandleCode:0,dwClientIP:0,uCheck:0},a=SocketStruct.encode(c,MSG_GAME_STRUCT.NetMessageHead),s={userID:loginData.get("userID"),iMvid:this.iMvid};this.iMvid+=1;var u=SocketStruct.encode(s,MSG_GAME_STRUCT.NetPostHead);e!==MDM_SOCKET_HEARD&&n!==MDM_SOCKET_HEARD&&(cc.log("http send:"),cc.log(c),cc.log(i));for(var l=a+u+r,h="",f=0;f<l.length;f++)h+="\\"+l.charCodeAt(f);cc.log(h);for(var d=new ArrayBuffer(l.length),p=new Uint8Array(d),v=0;v<l.length;v++)p[v]=l.charCodeAt(v);this.PostBuffer(t,d,function(t){var e=t.substr(0,24);e+=t.substr(32),GameSocket.onMessage({data:e})})},encodeTab:function(t){var e="";for(var n in t)e=e+n+"="+this.urlencode(t[n])+"&";return e=e.slice(0,-1)},concatTab:function(t){var e="";for(var n in t)e=e+n+"="+t[n]+"&";return e=e.slice(0,-1)},urlencode:function(t){return t=(t+"").toString(),encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}},cc._RF.pop()},{}],HelloWorld:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){},update:function(t){}}),cc._RF.pop()},{}],ShaderBins:[function(t,e,n){"use strict";cc._RF.push(e,"dee06w9ZA9CzbCHO4xoWVpG","ShaderBins"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.script=this,this.pos_desc=cc.find("pos_desc",this.node);var t={vert:"\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",frag:"\nuniform sampler2D texture;\nvarying vec2 uv0;\nvarying vec4 color;\nuniform vec3 pos;\n\nconst float waterwid = 0.5;\nconst float deepwid = 0.01;\nconst float pi = 3.141592653589793;\n\nfloat CountScale(float left,float right)\n{\n    //\u6c34\u6df1\n    float depth = pos.y;\n    //\u9632\u6b62\u602a\u5f02\u73b0\u8c61\n    if (depth > 1.)\n    {\n        depth = 1.;\n    }\n    else if (depth < 0.)\n    {\n        depth = 0.;\n    }\n    //\u50cf\u7d20Y\u503c\u7f29\u653e\n    float scale = 1.-depth;\n    float length = right - left;\n    float mysca = pi/length;\n    //\u5411\u4e0b\u5f2f\u66f2\u7684\u5750\u6807\u503c\u5b9a\u57280.-1.\u4e4b\u95f4\n    float mpos = (uv0.x - left)/length;\n    if (mpos < (1.-deepwid)/2. )\n    {\n        mpos = 1./(1.-deepwid)*(mpos);\n        scale = (1.-depth) + depth *(0.5001-0.5*(sin(-pi/2.+mpos*2.*pi)) );\n    }\n    else if( mpos > (1.+deepwid)/2.)\n    {\n        mpos = 1./(1.-deepwid)*(mpos-deepwid);\n        scale = (1.-depth)+ (depth)*(.5001-.5*( sin(-pi/2.+(mpos)*2.*pi) ) );\n    }\n    return scale;\n}\n\nvoid main() {\n    float scale = 1.;\n    float left  = pos.x - waterwid/2.;\n    float right = pos.x + waterwid/2.;\n    if (uv0.x > left && uv0.x < right )\n    {\n        scale = CountScale(left,right);\n    }\n    vec4 mycolor = vec4(0.0);\n    if (1.-uv0.y < scale )\n    {\n        mycolor = texture2D(texture, vec2(uv0.x,1./scale*(uv0.y-1.+scale))  );\n    }\n    \n    gl_FragColor = mycolor;\n}\n",name:"bins"};this.getComponent(cc.Sprite).setState(0);var e=this.getComponent(cc.Sprite),n=util.useShader(e,t);this._material=n,this.addTouch()},addTouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=this.node.convertToNodeSpace(cc.v2(t.touch._point.x,t.touch._point.y));this.changePos(e)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=this.node.convertToNodeSpace(cc.v2(t.touch._point.x,t.touch._point.y));this.changePos(e)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.node.convertToNodeSpace(cc.v2(t.touch._point.x,t.touch._point.y));this.changePos(e)},this)},changePos:function(t){var e=t.x/this.node.width,n=t.y/this.node.height;this.pos_desc.setLabel("x:"+e.toFixed(2)+" y:"+n.toFixed(2)),this._material.setPos(e,1-n,0)}}),cc._RF.pop()},{}],ShaderComponent:[function(t,e,n){"use strict";cc._RF.push(e,"413144b9dlPtKQf4ce1DWKW","ShaderComponent"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property;i.requireComponent,i.executeInEditMode;window.ShaderType=cc.Enum({Default:0,Gray:1,GrayScaling:100,Stone:101,Ice:102,Frozen:103,Mirror:104,Poison:105,Banish:106,Vanish:107,Invisible:108,Blur:109,GaussBlur:110,Dissolve:111,Fluxay:112,FluxaySuper:113});var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._shader=ShaderType.Gray,e._color=cc.color(),e._start=0,e}return __extends(e,t),e.prototype.start=function(){this.getComponent(cc.Sprite).setState(0),this._applyShader()},e.prototype._applyShader=function(){var t=this._shader,e=this.getComponent(cc.Sprite),n=util.useShader(e,t);this._material=n,this._start=0;var i=this._color;if(i.setR(255),i.setG(255),i.setB(255),i.setA(255),n){switch(t){case ShaderType.Blur:case ShaderType.GaussBlur:n.setNum(.03)}this._setShaderColor()}},e.prototype._setShaderColor=function(){var t=this.node,e=t.color,n=this._color,i=e.getR(),o=e.getG(),r=e.getB(),c=t.opacity,a=!1;n.getR()!==i&&(n.setR(i),a=!0),n.getG()!==o&&(n.setG(o),a=!0),n.getB()!==r&&(n.setB(r),a=!0),n.getA()!==c&&(n.setA(c),a=!0),a&&this._material.setColor(i/255,o/255,r/255,c/255)},e.prototype._setShaderTime=function(t){if(NeedUpdate.indexOf(this._shader)>=0){var e=this._start;e>65535&&(e=0),e+=t,this._material.setTime(e),this._start=e}},__decorate([r({type:cc.Enum(ShaderType),visible:!1})],e.prototype,"_shader",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],ShaderIce:[function(t,e,n){"use strict";cc._RF.push(e,"2dad1K/vgFMELjZ4HRGIHFL","ShaderIce"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.script=this;var t={vert:"\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 clrx = color * texture2D(texture, uv0);\n    float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n    float gray = (1.5)*brightness;\n    clrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n    gl_FragColor =clrx;\n}\n",name:"ice"},e=this.getComponent(cc.Sprite);util.useShader(e,t)}}),cc._RF.pop()},{}],ShaderLab:[function(t,e,n){"use strict";cc._RF.push(e,"cac28Yle7hDzq8O2aUoqiOm","ShaderLab"),window.ShaderType=cc.Enum({Default:0,Gray:1,GrayScaling:100,Stone:101,Ice:102,Frozen:103,Mirror:104,Poison:105,Banish:106,Vanish:107,Invisible:108,Blur:109,GaussBlur:110,Dissolve:111,Fluxay:112,FluxaySuper:113});var i="\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",o={GrayScaling:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = dot(c.rgb, vec3(0.299 * 0.5, 0.587 * 0.5, 0.114 * 0.5));\n    gl_FragColor = vec4(gray, gray, gray, c.a * 0.5);\n}\n"},Stone:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n    float gray = (0.6) * clrbright;\n    gl_FragColor = vec4(gray, gray, gray, c.a);\n}\n"},Ice:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 clrx = color * texture2D(texture, uv0);\n    float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n\tfloat gray = (1.5)*brightness;\n\tclrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n    gl_FragColor =clrx;\n}\n"},Frozen:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c *= vec4(0.8, 1, 0.8, 1);\n\tc.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Mirror:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.5;\n    c.g *= 0.8;\n    c.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Poison:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.8;\n\tc.r += 0.08 * c.a;\n\tc.g *= 0.8;\n    c.g += 0.2 * c.a;\n\tc.b *= 0.8;\n    gl_FragColor = c;\n}\n"},Banish:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gg = (c.r + c.g + c.b) * (1.0 / 3.0);\n    c.r = gg * 0.9;\n    c.g = gg * 1.2;\n    c.b = gg * 0.8;\n    c.a *= (gg + 0.1);\n    gl_FragColor = c;\n}\n"},Vanish:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = (c.r + c.g + c.b) * (1. / 3.);\n    float rgb = gray * 0.8;\n    gl_FragColor = vec4(rgb, rgb, rgb, c.a * (gray + 0.1));\n}\n"},Invisible:{vert:i,frag:"\nvoid main () {\n    gl_FragColor = vec4(0,0,0,0);\n}\n"},Blur:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\nvoid main () {\n    vec4 sum = vec4(0.0);\n    vec2 size = vec2(num,num);\n    sum += texture2D(texture, uv0 - 0.4 * size) * 0.05;\n\tsum += texture2D(texture, uv0 - 0.3 * size) * 0.09;\n\tsum += texture2D(texture, uv0 - 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 - 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0             ) * 0.16;\n\tsum += texture2D(texture, uv0 + 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0 + 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 + 0.3 * size) * 0.09;\n    sum += texture2D(texture, uv0 + 0.4 * size) * 0.05;\n    \n    vec4 vectemp = vec4(0,0,0,0);\n    vec4 substract = vec4(0,0,0,0);\n    vectemp = (sum - substract) * color;\n\n    float alpha = texture2D(texture, uv0).a;\n    if(alpha < 0.05) { gl_FragColor = vec4(0 , 0 , 0 , 0); }\n\telse { gl_FragColor = vectemp; }\n}\n"},GaussBlur:{vert:i,frag:"\n#define repeats 5.\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\n\nvec4 draw(vec2 uv) {\n    return color * texture2D(texture,uv).rgba; \n}\nfloat grid(float var, float size) {\n    return floor(var*size)/size;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main()\n{\n    vec4 blurred_image = vec4(0.);\n    for (float i = 0.; i < repeats; i++) { \n        vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv0.x+uv0.y))+num); \n        vec2 uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n        q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv0.x+uv0.y+24.))+num); \n        uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n    }\n    blurred_image /= repeats;\n    gl_FragColor = vec4(blurred_image);\n}\n"},Dissolve:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 c = color * texture2D(texture,uv0);\n    float height = c.r;\n    if(height < time)\n    {\n        discard;\n    }\n    if(height < time+0.04)\n    {\n        // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n        c = vec4(.9,.6,0.3,c.a);\n    }\n    gl_FragColor = c;\n}\n"},Fluxay:{vert:i,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 src_color = color * texture2D(texture, uv0).rgba;\n\n    float width = 0.08;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n    float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n    float strength = 0.008;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n    float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n    if(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width))\n    {\n        vec3 improve = strength * vec3(255, 255, 255);\n        vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n        gl_FragColor = vec4(result, src_color.a);\n\n    }else{\n        gl_FragColor = src_color;\n    }\n}\n"},FluxaySuper:{vert:i,frag:"\n#define TAU 6.12\n#define MAX_ITER 5\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    float time = time * .5+5.;\n    // uv should be the 0-1 uv of texture...\n    vec2 uv = uv0.xy;//fragCoord.xy / iResolution.xy;\n    \n    vec2 p = mod(uv*TAU, TAU)-250.0;\n\n    vec2 i = vec2(p);\n    float c = 1.0;\n    float inten = .0045;\n\n    for (int n = 0; n < MAX_ITER; n++) \n    {\n        float t =  time * (1.0 - (3.5 / float(n+1)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n        c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n    }\n    c /= float(MAX_ITER);\n    c = 1.17-pow(c, 1.4);\n    vec4 tex = texture2D(texture,uv);\n    vec3 colour = vec3(pow(abs(c), 20.0));\n    colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n\n    // \u6df7\u5408\u6ce2\u5149\n    float alpha = c*tex[3];  \n    tex[0] = tex[0] + colour[0]*alpha; \n    tex[1] = tex[1] + colour[1]*alpha; \n    tex[2] = tex[2] + colour[2]*alpha; \n    gl_FragColor = color * tex;\n}\n"}};e.exports=o,cc._RF.pop()},{}],ShaderMaterial:[function(t,e,n){"use strict";cc._RF.push(e,"be95behIplNVYFr5bepU+r/","ShaderMaterial");var i=cc.renderer.renderEngine,o=i.Material,r=cc.Class({extends:o,callfunc:function(t,e,n,i){var o=cc.renderer._forward._programLib;!o._templates[t]&&o.define(t,e,n,i),this.init(t)},init:function(t){var e=i.renderer,n=i.gfx,o=new e.Pass(t);o.setDepth(!1,!1),o.setCullMode(n.CULL_NONE),o.setBlend(n.BLEND_FUNC_ADD,n.BLEND_SRC_ALPHA,n.BLEND_ONE_MINUS_SRC_ALPHA,n.BLEND_FUNC_ADD,n.BLEND_SRC_ALPHA,n.BLEND_ONE_MINUS_SRC_ALPHA);var r=new e.Technique(["transparent"],[{name:"texture",type:e.PARAM_TEXTURE_2D},{name:"color",type:e.PARAM_COLOR4},{name:"pos",type:e.PARAM_FLOAT3},{name:"size",type:e.PARAM_FLOAT2},{name:"time",type:e.PARAM_FLOAT},{name:"num",type:e.PARAM_FLOAT}],[o]);this._texture=null,this._color={r:1,g:1,b:1,a:1},this._pos={x:0,y:0,z:0},this._size={x:0,y:0},this._time=0,this._num=0,this._effect=this.effect=new e.Effect([r],{color:this._color,pos:this._pos,size:this._size,time:this._time,num:this._num},[]),this._mainTech=r},setTexture:function(t){this._texture=t,this._texture.update({flipY:!1,mipmap:!1}),this._effect.setProperty("texture",t.getImpl()),this._texIds.texture=t.getId()},setColor:function(t,e,n,i){this._color.r=t,this._color.g=e,this._color.b=n,this._color.a=i,this._effect.setProperty("color",this._color)},setPos:function(t,e,n){this._pos.x=t,this._pos.y=e,this._pos.z=n,this._effect.setProperty("pos",this._pos)},setSize:function(t,e){this._size.x=t,this._size.y=e,this._effect.setProperty("size",this._size)},setTime:function(t){this._time=t,this._effect.setProperty("time",this._time)},setNum:function(t){this._num=t,this._effect.setProperty("num",this._num)}});e.exports=r,cc._RF.pop()},{}],ShaderNew:[function(t,e,n){"use strict";cc._RF.push(e,"24a81vUokJHILyIRMUhUXQw","ShaderNew");var i=cc.Enum({Default:0,Gray:1,GrayScaling:100,Stone:101,Ice:102,Frozen:103,Mirror:104,Poison:105,Banish:106,Vanish:107,Invisible:108,Blur:109,GaussBlur:110,Dissolve:111,Fluxay:112,FluxaySuper:113});i.Fluxay,i.FluxaySuper;cc.Class({extends:cc.Component,properties:{mShader:{default:i.Default,type:i},_color:cc.color(),_start:0},start:function(){this._shader=this.mShader,this.getComponent(cc.Sprite).setState(0),this._applyShader()},_applyShader:function(){var t=this._shader,e=this.getComponent(cc.Sprite),n=util.useShader(e,t);this._material=n,this._start=0;this._color},_setShaderColor:function(){var t=this.node,e=t.color,n=this._color,i=e.getR(),o=e.getG(),r=e.getB(),c=t.opacity,a=!1;n.getR()!==i&&(n.setR(i),a=!0),n.getG()!==o&&(n.setG(o),a=!0),n.getB()!==r&&(n.setB(r),a=!0),n.getA()!==c&&(n.setA(c),a=!0),a&&this._material.setColor(i/255,o/255,r/255,c/255)}}),cc._RF.pop()},{}],ShaderStone:[function(t,e,n){"use strict";cc._RF.push(e,"4acb5KAM89B7rRkibqaQ4Rk","ShaderStone"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.script=this;var t={vert:"\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n    float gray = (0.6) * clrbright;\n    gl_FragColor = vec4(gray, gray, gray, c.a);\n}\n",name:"stone"},e=this.getComponent(cc.Sprite);util.useShader(e,t)}}),cc._RF.pop()},{}],ShaderWenyu:[function(t,e,n){"use strict";cc._RF.push(e,"77a2fo5R3xJEo+sgDTzcdUm","ShaderWenyu"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.script=this,this._start=0,this.pos_desc=cc.find("pos_desc",this.node);var t={vert:"\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",frag:"\nuniform sampler2D texture;\nvarying vec2 uv0;\nuniform vec4 color;\nuniform vec3 pos;\n\nvoid main()\n{\n    float t_x;\n    if (pos.x > 0.0)\n    {\n        t_x = 1.- uv0.x; \n    }\n    else\n    {\n        t_x =  uv0.x; \n    }\n\n    float m_y = (uv0.y - 0.5) * (2. * abs(pos.x) * t_x + 1.) + 0.5 ;\n    //float m_alpha = texture2D(texture, fract(vec2(uv0.x, m_y))).a ; \n    vec4 normalColor = texture2D(texture, fract(vec2(uv0.x, m_y)));\n    if(m_y < 0. || m_y > 1.){                                                              \n        normalColor = vec4(0.);\n    }        \n    gl_FragColor = color * vec4(normalColor);\n}\n",name:"Wenyu"};this.getComponent(cc.Sprite).setState(0);var e=this.getComponent(cc.Sprite),n=util.useShader(e,t);this._material=n,this.changePosX()},changePosX:function(){var t=this.node.x/1e3;this.node.zIndex=Math.ceil(9999-Math.abs(this.node.x)),this.pos_desc.setLabel(this.node.index+"\n"+t.toFixed(2)),this._material.setPos(t,.5,0)}}),cc._RF.pop()},{}],Tile:[function(t,e,n){"use strict";cc._RF.push(e,"e91cbggF+ZKL7Y3xGaRCd8o","Tile"),cc.Class({extends:cc.Component,properties:{numLabel:{default:null,type:cc.Label}},onLoad:function(){var t=this;this.node.quickBt(function(){GM.plusOne.canTouch&&!t.game.isCal&&(t.game.isCal=!0,DF.plusOneDF.combo=0,t.setNum(parseInt(t.numLabel.string)+1,!0,!1))})},newTile:function(t,e){this.node.setPosition(5+(5+this.node.width)*e+this.node.width/2,5+(5+this.node.height)*t+this.node.height/2),this.node.setScale(0),this.node.runAction(cc.scaleTo(.1,1)),this.setArrPosition(t,e)},moveTo:function(t,e){this.row=t,this.col=e,this.node.stopActionByTag(1);var n=cc.moveTo(.2,cc.v2(5+(5+this.node.width)*e+this.node.width/2,5+(5+this.node.height)*t+this.node.height/2));this.node.runAction(n),n.setTag(1)},destoryTile:function(){var t=cc.sequence(cc.scaleTo(.1,0),cc.callFunc(function(t){t.destroy()},this.node,this.node));this.node.runAction(t)},setArrPosition:function(t,e){this.row=t,this.col=e},setNum:function(t,e,n){switch(this.game.maxNum=t>this.game.maxNum?t:this.game.maxNum,this.numLabel.string=t,t){case 1:this.node.color=DF.plusOneColors.num1;break;case 2:this.node.color=DF.plusOneColors.num2;break;case 3:this.node.color=DF.plusOneColors.num3;break;case 4:this.node.color=DF.plusOneColors.num4;break;case 5:this.node.color=DF.plusOneColors.num5;break;case 6:this.node.color=DF.plusOneColors.num6;break;case 7:this.node.color=DF.plusOneColors.num7;break;case 8:this.node.color=DF.plusOneColors.num8;break;case 9:this.node.color=DF.plusOneColors.num9;break;case 10:this.node.color=DF.plusOneColors.num10;break;case 11:this.node.color=DF.plusOneColors.num11;break;case 12:this.node.color=DF.plusOneColors.num12;break;case 13:this.node.color=DF.plusOneColors.num13;break;case 14:this.node.color=DF.plusOneColors.num14;break;case 15:this.node.color=DF.plusOneColors.num15;break;case 16:this.node.color=DF.plusOneColors.num16;break;case 17:this.node.color=DF.plusOneColors.num17;break;case 18:this.node.color=DF.plusOneColors.num18;break;case 19:this.node.color=DF.plusOneColors.num19;break;case 20:this.node.color=DF.plusOneColors.num20;break;default:this.node.color=DF.plusOneColors.nums}if((n&&this.node.runAction(cc.sequence(cc.scaleTo(.15,1.5),cc.scaleTo(.15,1))),e)&&!this.game.operateLogic(this.row,this.col,parseInt(this.numLabel.string),!0)){console.log("\u80fd\u91cf\u6761-1");for(var i=1;i<=5;i++){var o=this.game["power_"+i];if(o.active){var r=cc.sequence(cc.scaleTo(.1,0),cc.callFunc(function(t){t.active=!1},null,o));o.runAction(r);break}}0==this.game.power_5.active&&(this.game.scoreNum&&this.game.scoreNum.string&&(DF.plusOneDF.score=this.game.scoreNum.string),GM.plusOne.canTouch=!1,0==GM.plusOne.reliveTime?GM.plusOne.showRelive():(util.showAlert("GameOver!",1),this.node.delayCall(function(){GM.plusOne.touchBack()},2)))}}}),cc._RF.pop()},{}],WenyuMain:[function(t,e,n){"use strict";cc._RF.push(e,"18a4bMAoz9KR6SCf6OZ02HX","WenyuMain");cc.Class({extends:cc.Component,properties:{},start:function(){this.ShaderWenyu=cc.find("ShaderWenyu",this.node),this.itemIndex=0,this.mItemSet=[],this.mInterval=-300,this.loadDisplay(),this.addBigTouch()},loadDisplay:function(){this.ShaderWenyu.index=0,this.mItemSet.push(this.ShaderWenyu);for(var t=1;t<10;t++){var e=cc.instantiate(this.ShaderWenyu);e.x=(e.width+this.mInterval)*t,e.index=t,this.node.addChild(e),this.mItemSet.push(e)}var n=this.mItemSet[this.itemIndex].x;this.itemWidth=this.mItemSet[0].width,this.moveItem(n),this.adjustItem()},moveItem:function(t){for(var e=(this.mInterval+this.itemWidth)*this.mItemSet.length/2,n=-1*e,i=-1*(this.mInterval+this.itemWidth)*this.mItemSet.length,o=0;o<this.mItemSet.length;o++){var r=this.mItemSet[o];r.x=r.x+t,r.x<e?r.x+=i:r.x>n&&(r.x-=i)}},soundKaka:function(){util.playSound("common/kaka")},stopItemAction:function(){for(var t=0;t<this.mItemSet.length;t++)this.mItemSet[t].stopActionByTag(123)},adjustItem:function(t,e){for(var n=null,i=0;i<this.mItemSet.length;i++){var o=this.mItemSet[i],r=o.x;if(i==this.itemIndex){var c=(o.width+this.mInterval)/1.5;r>0?r+=c:r-=c}(null==n||Math.abs(r)<Math.abs(n))&&(n=r,t=i)}this.stopItemAction();var a=this,s=(n=this.mItemSet[t].x,e=e||1e3,Math.abs(n)/e);for(i=0;i<this.mItemSet.length;i++){var u=cc.moveBy(s,cc.v2(-n,0));0==i&&(u=cc.sequence(u,cc.callFunc(function(){a.itemIndex=t}))),u.setTag(123),this.mItemSet[i].runAction(u)}},update:function(t){for(var e=0;e<this.mItemSet.length;e++)this.mItemSet[e]&&this.mItemSet[e].script&&this.mItemSet[e].script.changePosX()},addBigTouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.startPosX=t.touch._point.x,this.stopItemAction(),this.mPreX=this.startPosX},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.touch._point.x-this.mPreX;this.moveItem(e),this.mPreX=t.touch._point.x},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=t.touch._point.x-this.mPreX;this.moveItem(e),Math.abs(t.touch._point.x-this.startPosX)>30&&this.soundKaka(),this.adjustItem(),this.mPreX=null},this)}}),cc._RF.pop()},{}],audioData:[function(t,e,n){"use strict";cc._RF.push(e,"9f027KJMuFGi4Jq2sowk3mr","audioData");var i=cc.Enum({Main:1,Loading:2,Instance:3,Roller:4}),o=t("csvData");cc.Class({extends:o,name:"audioData",properties:{_fileName:{override:!0,default:"video"},_clipBuffer:{type:Map,default:null},_playEffetTime:0,_InInstanceZones:i.Main,_SettingMusic:"open",_SettingEffect:"open",_SettingVibrate:"open",_StopAllSound:!1},ctor:function(){this._clipBuffer=new Map},SettingMusic:function(t){this.set("_SettingMusic",t),"open"==t?this.playBGM():this.stopBGM()},SettingEffect:function(t){this.set("_SettingEffect",t)},SettingVibratet:function(t){this.set("_SettingVibrate",t)},SwitchToInstanceZones:function(){this._InInstanceZones=i.Instance,cc.audioEngine.stopAllEffects(),this.playBGM()},SwitchToMainZones:function(){this.undefinedOrSet("_SettingMusic","open"),this.undefinedOrSet("_SettingEffect","open"),this.undefinedOrSet("_SettingVibrate","open"),this._InInstanceZones=i.Main,cc.audioEngine.stopAllEffects(),this.playBGM()},SwitchToLoadingZones:function(){this._InInstanceZones=i.Loading,cc.audioEngine.stopAllEffects(),this.stopBGM()},SwitchToLuckyRollerZone:function(){this._InInstanceZones=i.Roller,cc.audioEngine.stopAllEffects(),this.stopBGM()},StopAllSound:function(){this._StopAllSound=!0,cc.game.pause(),this.stopBGM()},ResumeAllSound:function(){this._StopAllSound=!1,cc.game.resume(),this.playBGM()},playBGM:function(){var t=this;if("close"!=this._SettingMusic&&this._InInstanceZones==i.Main){this.stopBGM();var e=this._getPathByID(1);cc.loader.loadRes(e,function(n,i){if(n)cc.error(n.message||n);else{t._clipBuffer.set(e,i);cc.audioEngine.playMusic(i,!0)}})}},stopBGM:function(){cc.audioEngine.stopMusic()},playSoundByID:function(t,e){var n=this._getPathByID(t);this.playSoundByPath(n,e)},playSoundByPath:function(t,e){var n=this;if(t&&!this._StopAllSound&&"close"!=this._SettingEffect){var i=Date.now();if(e||!(i-this._playEffetTime<200)){this._playEffetTime=i;var o=this._clipBuffer.get(t);o?cc.audioEngine.playEffect(o,!1):cc.loader.loadRes(t,cc.AudioClip,function(e,i){e?cc.error(e.message||e):(n._clipBuffer.set(t,i),cc.audioEngine.playEffect(i,!1))})}}},_getPathByID:function(t){var e=this.getValueByIDKey(t,"link");if(e)return e.indexOf(".")>0&&(e=e.substr(0,e.indexOf("."))),"audio/"+(e=e.replace(/\\/g,"/"));cc.error("\u58f0\u97f3\u672a\u627e\u5230id = "+t)}}),cc._RF.pop()},{csvData:"csvData"}],baseData:[function(t,e,n){"use strict";cc._RF.push(e,"7450149+klNGrPLCxWlG1q8","baseData");var i=cc.systemEvent,o="";cc.Class({properties:{_eventHandlers:{default:{}},_serverData:{default:{}},_dataTime:null,_hasInitServer:!0,_hasChangeData:!0},setSaveKey:function(t){o=t},set:function(t,e,n){var o=this;this[t]=n?n(e):e;var r=this.__cid__+t;if(this._eventHandlers[r]){var c=function(t){var n=o._eventHandlers[r][t];n&&(n.activeInHierarchy?n.emit(r,e):n._catchEvents?n._catchEvents[r]=e:(n._catchEvents={},n.on("active",function(t){if(t){for(var e in n._catchEvents)n.emit(e,n._catchEvents[e]);n._catchEvents={}}})))};for(var a in this._eventHandlers[r])c(a)}return i&&i.emit(r,e),e},add:function(t,e){this.plus(t,e)},sets:function(t){for(var e in t)this.set(e,t[e])},get:function(t){return this[t]},getNumString:function(t){var e=this[t]-0;return e=(e=e.toLocaleString()).toString().replace(/\$|\,/g,"")},getAll:function(){return this},plus:function(t,e){var n=Number(this.get(t)),i=Number(e);i||0===i?this.set(t,n+i):cc.error("plus value error key value = ",t,e)},on:function(t,e,n){if("function"==typeof e){if(n){n=n.node||n;var o=this.__cid__+t;n.on(o,e,n),this._eventHandlers[o]=this._eventHandlers[o]||[];var r=!1;for(var c in this._eventHandlers[o])if(n==this._eventHandlers[o][c]){r=!0;break}r||this._eventHandlers[o].push(n)}else i&&i.on(this.__cid__+t,e);var a=this.get(t);void 0!==a&&e(a)}},off:function(t,e,n){n?(n=n.node||n,e?n.off(this.__cid__+t,e,n):n.targetOff(this.__cid__+t)):i&&i.off(this.__cid__+t,e)},bindLable:function(t,e,n,i){var o=e.getComponent(cc.Label)||e.getComponent(cc.EditBox);o?this.on(t,function(r){if(cc.isValid(e)){if("number"==typeof r)if(n=n||1,1==i)if(1==n)r=util.getEasyNum(r);else if(100==n)if(r>=1e6){r=r>=1e9?Math.floor(r/1e6)+"\u4e07":r>=1e8?(Math.floor(r/1e5)/10).toFixed(1)+"\u4e07":(Math.floor(r/1e4)/100).toFixed(2)+"\u4e07"}else r=r>=1e5?(Math.floor(r/10)/10).toFixed(1):(r/n).toFixed(2);else 1e8==n&&r>=1e8&&(r=Math.floor(r/1e8)+"\u4ebf");else r/=n;else n&&cc.error("bindLable value is not a number key = "+t);o.string=r,e.changeStrFunc&&e.changeStrFunc(r)}}.bind(this)):cc.error("bindLable arg2 mush be a cc.Lable")},setLableText:function(t,e){var n=e.getComponent(cc.Label)||e.getComponent(cc.EditBox);if(n){var i=this.get(t);n.string=i}else cc.error("bindLable arg2 mush be a cc.Lable")},undefinedOrSet:function(t,e,n){util.isNull(this.get(t))&&this.set(t,e,n)},save:function(t){if(this.__cid__&&""!=this.__cid__){var e=this.get(t);return null===e||void 0===e||"undefined"===e||"null"===e?cc.sys.localStorage.removeItem(o+this.__cid__+t):cc.sys.localStorage.setItem(o+this.__cid__+t,JSON.stringify(e)),e}cc.error("\u5fc5\u987b\u8981\u6709\u7c7b\u540d\u624d\u80fd\u4fdd\u5b58\u503c")},read:function(t,e){if(this.__cid__&&""!=this.__cid__){var n;if(""!==(n=cc.sys.localStorage.getItem(o+this.__cid__+t)))try{null!==(n=JSON.parse(n))&&void 0!==n||(n=e)}catch(e){cc.error(t+" "+n),cc.error(e)}else n=void 0;return n}cc.error("\u5fc5\u987b\u8981\u6709\u7c7b\u540d\u624d\u80fd\u4fdd\u5b58\u503c")},autoReadSave:function(t,e){var n=this;if(this.autoKey=this.autoKey||{},!this.autoKey[t]){this.autoKey[t]=!0;var i=!0,o=this.read(t,e);if(void 0!==o&&this.set(t,o),this.on(t,function(e){i?i=null:(this.save(t),this._hasChangeData=!0)}.bind(this)),cc.game.on(cc.game.EVENT_HIDE,function(){n.save(t)}),!this._hasInitServer){this._hasInitServer=!0;var r=this.autoReadSave("_dataTime");!r||Date.now()-r>432e5?setTimeout(function(){n.readServer()},.001):console.log(this.__cid__,"\u672c\u5730\u6709\u8f83\u65b0\u6570\u636e,\u4e0d\u505a\u670d\u52a1\u5668\u8bfb\u53d6"),cc.game.on(cc.game.EVENT_HIDE,function(){n._hasChangeData&&(n._hasChangeData=!1,n.saveToServer())})}return o}},getIsAutoSave:function(t){return this.autoKey&&this.autoKey[t]},storeValue:function(t){var e=this.get(t);cc.sys.localStorage.setItem(t,e)},readValue:function(t){return cc.sys.localStorage.getItem(t)},saveToServer:function(){if(this.autoKey&&Object.keys(this.autoKey).length>1){var t=Date.now();console.log("\u4e0a\u4f20\u670d\u52a1\u5668",this.__cid__,t),this.set("_dataTime",t);var e={};for(var n in this.autoKey){var i=this.get(n);void 0!==i&&null!==i&&(e[n]=i)}webData&&webData.saveData?webData.saveData(this.__cid__,JSON.stringify(e)):cc.error("\u4e0a\u4f20\u670d\u52a1\u5668\u63a5\u53e3\u672a\u5b9e\u73b0")}},readServer:function(){var t=this;if(webData&&webData.getData){var e=this.get("_dataTime");webData.getData(this.__cid__,function(n){var i=JSON.parse(n);e>=i._dataTime?console.log(t.__cid__,"\u670d\u52a1\u5668\u6570\u636e\u4e3a\u65e7\u7684,\u4e0d\u505a\u66f4\u65b0"):(console.log(t.__cid__,"\u66f4\u65b0\u4e3a\u670d\u52a1\u5668\u6570\u636e"),console.log(i),t.sets(i),t._hasChangeData=!1)})}else cc.error("\u670d\u52a1\u5668\u4e0b\u8f7d\u63a5\u53e3\u672a\u5b9e\u73b0")}}),cc._RF.pop()},{}],baseDlg:[function(t,e,n){"use strict";cc._RF.push(e,"dc45eMTOfdKV42xSlRVcbBr","baseDlg");var i=t("baseNode");cc.Class({extends:i,properties:{mask:{default:!0}},onLoad:function(){this._super(),this.fixScale(),this._touchBlankCloseSelf=!0,util.loadSp(this.node,"img2/common/singleColor",function(t){t.width=2e3,t.height=2e3,t.zIndex=-1,t.color=cc.Color.BLACK,t.opacity=this.mask?200:1,t.lwMaskName="lwMaskName",t.addComponent(cc.BlockInputEvents);var e=new cc.Node("touch_toclose");e.width=2e3,e.height=2e3,e.parent=t;var n=this;e.quickBt(function(){n._touchBlankCloseSelf&&n.cantouch&&n.closeSelf()},!0)}.bind(this))},fixScale:function(){var t=this.node.getChildren(),e=1280/720/(cc.winSize.height/cc.winSize.width>1?cc.winSize.height/cc.winSize.width:cc.winSize.width/cc.winSize.height);if(1!=e){e>1&&(e=Math.sqrt(e));for(var n=0;n<t.length;n++){var i=t[n].getScale();t[n].setScale(e*i)}}},closeSelf:function(){uiFunc.closeUI(this)},onCloseAutoShowUI:function(){var t=uiFunc.findUI("hall/uiHall",!0);t&&t.closeAutoShowUI(this)}}),cc._RF.pop()},{baseNode:"baseNode"}],baseNode:[function(t,e,n){"use strict";cc._RF.push(e,"e26deZ33GdISKYijAufdHan","baseNode"),cc.Class({extends:cc.Component,properties:{openAction:{default:!1}},onLoad:function(){var t=function(e,n){for(var i=e.children,o=0;o<i.length;o++){var r=i[o].name;if(r&&r.indexOf("_")>0){var c=r;n[c]&&console.log("\u63a7\u4ef6\u540d\u5b57\u91cd\u590d!"+i[o].name),n[c]=i[o]}i[o].childrenCount>0&&t(i[o],n)}}.bind(this);t(this.node,this),this.cantouch=!1},onEnter:function(){},show:function(){this.__showing__=!0;for(var t=this.node.parent.children,e=0,n=0;n<t.length;n++)e=Math.max(e,t[n].zIndex);if(this.node.zIndex=e+1,this.openAction){t=this.node.children;for(var i=0;i<t.length;i++)if("lwMaskName"!=t[i].lwMaskName){var o=t[i].getScale(),r=cc.scaleTo(.005,.5),c=cc.scaleTo(.13,o+.05),a=cc.scaleTo(.13,o),s=cc.scaleTo(.08,o+.02),u=cc.scaleTo(.08,o),l=void 0;(l=cc.sequence(cc.hide(),r,cc.show(),c,a,s,u)).easing(cc.easeOut(1)),t[i].runAction(l)}}},hide:function(){this.node.zIndex=0},lateUpdate:function(){this.__showing__&&this.onEnter&&(this.__showing__=!1,this.openAction?(this.cantouch=!1,this.scheduleOnce(function(){this.onEnter()},.05),this.scheduleOnce(function(){this.cantouch=!0},.8)):(this.cantouch=!0,this.onEnter()))}}),cc._RF.pop()},{}],baseWin:[function(t,e,n){"use strict";cc._RF.push(e,"4bd626EfaFBWogKVno/vNjO","baseWin");var i=t("baseNode");cc.Class({extends:i,properties:{},onLoad:function(){this._super(),this.addComponent(cc.BlockInputEvents)},start:function(){}}),cc._RF.pop()},{baseNode:"baseNode"}],csvData:[function(t,e,n){"use strict";cc._RF.push(e,"ab3a0XyE5VEt5XinKdtz/5I","csvData");var i=t("runtime"),o={},r=t("baseData");cc.Class({extends:r,properties:{_fileName:void 0,_csvData:void 0},ctor:function(){var t=arguments[0];if(t)return this._fileName=t,void this.loadCSV();this._fileName||cc.error("mush define a csv path")},onLoadCSV:function(t){},loadCSV:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(o,r){try{var c=e[o](r),a=c.value}catch(t){return void n(t)}if(!c.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})}}(i.mark(function t(e){var n,r,c,a,s,u,l,h,f,d,p,v,m,g,_,y;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o[this._fileName]){t.next=3;break}return e&&e(),t.abrupt("return");case 3:return n=5,r="csvtable/"+this._fileName,c={},t.next=8,cc.loadResNow(r);case 8:if(a=t.sent,!(s=a.e)){t.next=13;break}return cc.error(s),t.abrupt("return");case 13:u=a.v,l=u.text.split("\n"),h=l[1].split(","),f=l[2].split(","),d=n;case 18:if(!(d<l.length)){t.next=27;break}if((p=l[d].split(",")).length==h.length&&""!=p[0]){t.next=22;break}return t.abrupt("continue",24);case 22:for(c[d-n]={},v=0;v<p.length;v++)m=p[v],"int"==f[v]&&(p[v].indexOf("+")>0&&cc.error("load csv error file = "+this._fileName),m=parseInt(p[v])),"float"==f[v]&&(m=parseFloat(p[v])),void 0!=h[v]&&(c[d-n][h[v].replace(/\s+/g,"")]=m);case 24:d++,t.next=18;break;case 27:o[this._fileName]={},t.t0=i.keys(c);case 29:if((t.t1=t.t0()).done){t.next=39;break}if(g=t.t1.value,_=c[g],y=_.id){t.next=36;break}return cc.error(r+" \u8868\u914d\u7f6e\u4e0d\u89c4\u8303,\u6ca1\u6709id"),t.abrupt("continue",29);case 36:o[this._fileName][y]=_,t.next=29;break;case 39:e&&e();case 40:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllDatas:function(){return o[this._fileName]||cc.error("not found data",this._fileName),o[this._fileName]},getIDs:function(){var t=this.getAllDatas();return Object.keys(t)},getInfoByID:function(t){return t=parseInt(t),o[this._fileName]||cc.error("not found data",this._fileName),o[this._fileName][t]},getValueByIDKey:function(t,e){var n=this.getInfoByID(t);n||cc.error("not found data id = "+t);var i=n[e];return i||cc.error("not found value id = "+t+"key = "+e),i},getIDByKeyValue:function(t,e){var n=this.getAllDatas();for(var i in n)if(this.getValueByIDKey(i,t)===e)return i}}),cc._RF.pop()},{baseData:"baseData",runtime:"runtime"}],extend:[function(t,e,n){"use strict";cc._RF.push(e,"358acKCfclATbz+L2laR8UY","extend");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.GM={},GM.hasLoadImg={},GM.hasLoadSound={},GM.hasLoadCsv={},GM.hasLoadPrefab={},cc.Node.prototype.to=function(t,e,n){return e=e||0,null!=n?t.addChild(this,e,n):t.addChild(this,e),this},cc.Node.prototype.p=function(t,e){var n=t;return null==y&&(y=t.y,n=t.x),this.setPosition(n,y),this},cc.Node.prototype.pp=function(t,e){var n=t;null==n?(n=.5,e=.5):null==e&&(e=t.y,n=t.x);var i=cc.winSize,o=i.width,r=i.height;if(null!=this.getParent()){var c=this.getParent().getContentSize();o=c.width,r=c.height}return this.setPosition(o*n,r*e),this},cc.Node.prototype.unbindTouch=function(){return this.off(cc.Node.EventType.TOUCH_START),this.off(cc.Node.EventType.TOUCH_MOVE),this.off(cc.Node.EventType.TOUCH_END),this.off(cc.Node.EventType.TOUCH_CANCEL),this.off(cc.Node.EventType.MOUSE_ENTER),this.off(cc.Node.EventType.MOUSE_LEAVE),this},GM.pAdd=function(t,e){return cc.v2(t.x+e.x,t.y+e.y)},GM.pSub=function(t,e){return cc.v2(t.x-e.x,t.y-e.y)},cc.Node.prototype.bindTouchLocate=function(t,e){return this.on(cc.Node.EventType.TOUCH_START,function(t){this.lBeganPos_=this.getPosition(),this.lBeganPoint_=cc.v2(t.touch._point.x,t.touch._point.y)},this),this.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.setPosition(GM.pAdd(this.lBeganPos_,GM.pSub(t.touch._point,this.lBeganPoint_)))},this),this.on(cc.Node.EventType.TOUCH_END,function(t){var e=cc.winSize.width,n=cc.winSize.height;if(null!=this.getParent()){var i=this.getParent().getContentSize();e=i.width,n=i.height}console.log("Node Location: ",this.x,this.y,"Percentage:",this.x/e,this.y/n)},this),this},cc.Node.prototype.quickBt=function(t,e,n){return this.unbindTouch(),this.lastClickTime=0,this.clickCdTime=300,this.canTouch=!0,this.iHasTouchBegan=!1,this.on(cc.Node.EventType.TOUCH_START,function(t){0!=this.canTouch&&(this.iHasTouchBegan=!0,this.BeganScale_=this.getScale(),this.BeganOpacity_=this.opacity,e||(this.setScale(.9*this.BeganScale_),this.opacity=.9*this.BeganOpacity_))},this),this.on(cc.Node.EventType.TOUCH_CANCEL,function(t){0!=this.canTouch&&0!=this.iHasTouchBegan&&(this.iHasTouchBegan=!1,e||(this.setScale(this.BeganScale_),this.opacity=this.BeganOpacity_))},this),this.on(cc.Node.EventType.TOUCH_END,function(i){if(0!=this.canTouch&&0!=this.iHasTouchBegan){if(this.iHasTouchBegan=!1,!e){this.setScale(this.BeganScale_),this.opacity=this.BeganOpacity_;var o="audio/common/Common_Panel_Dialog_Pop_Sound";null==GM.hasLoadSound[o]?cc.loader.loadRes(o,cc.AudioClip,function(t,e){cc.audioEngine.playEffect(e,!1),GM.hasLoadSound[o]=e}):cc.audioEngine.playEffect(GM.hasLoadSound[o],!1)}if(!n){var r=(new Date).getTime();if(r-this.lastClickTime<this.clickCdTime)return void console.log("---\u5c4f\u853d\u8fc7\u5feb\u70b9\u51fb---");this.lastClickTime=r}t&&t(i)}},this),this.autoClick=function(){t()},this},cc.Node.prototype.onClick=function(t,e,n){var i=this.getComponent(cc.Button);i||((i=this.addComponent(cc.Button)).transition=cc.Button.Transition.SCALE),n?i.transition=cc.Button.Transition.NONE:i.zoomScale=.9;var o=0;this.off("click"),this.on("click",function(){var n="audio/common/Common_Panel_Dialog_Pop_Sound";null==GM.hasLoadSound[n]?cc.loader.loadRes(n,cc.AudioClip,function(t,e){cc.audioEngine.playEffect(e,!1),GM.hasLoadSound[n]=e}):cc.audioEngine.playEffect(GM.hasLoadSound[n],!1);var i=(new Date).getTime();i-o<300?console.log("---\u5c4f\u853d\u8fc7\u5feb\u70b9\u51fb---"):(o=i,t.call(e))},e),this.autoClick=function(){t.call(e)}},cc.Node.prototype.loadUrlImage=function(t,e){var n=this;if(t){var i=e?t+e:t;if(GM.hasLoadImg[i])this.getComponent(cc.Sprite).spriteFrame=GM.hasLoadImg[i];else{var o=e?{url:t,type:e}:t;cc.loader.load(o,function(t,e){t&&console.error(t);var o=n.getComponent(cc.Sprite);if(o&&e){var r=new cc.SpriteFrame(e);o.spriteFrame=r,GM.hasLoadImg[i]=r}})}}},cc.Node.prototype.delayCall=function(t,e,n){var i=cc.sequence(cc.delayTime(e),cc.callFunc(t));n&&(i="number"==typeof n?i.repeat(n):i.repeatForever()),this.runAction(i)},cc.Node.prototype.delayRemove=function(t){var e=cc.sequence(cc.delayTime(t),cc.removeSelf());this.runAction(e)},cc.Node.prototype.runAc=function(t){this.stopAllActions(),cc.director.getActionManager().removeAllActionsFromTarget(this),this.runAction(t)},cc.Node.prototype.setLabel=function(t){this._lwLabel=this._lwLabel||this.getComponent(cc.Label),(t||0===t)&&this._lwLabel&&(this._lwLabel.string=t)},String.prototype.format=function(t){var e=this;if(arguments.length>0)if(1==arguments.length&&"object"==(void 0===t?"undefined":i(t))){for(var n in t)if(void 0!=t[n]){var o=new RegExp("({"+n+"})","g");e=e.replace(o,t[n])}}else for(var r=0;r<arguments.length;r++)if(void 0!=arguments[r]){o=new RegExp("({)"+r+"(})","g");e=e.replace(o,arguments[r])}return e},Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},cc.Node.maxTouchNum=1,cc.Node.touchNum=0;var o=cc.Node.prototype.dispatchEvent;cc.Node.prototype.dispatchEvent=function(t){switch(t.type){case cc.Node.EventType.TOUCH_START:cc.Node.touchNum<cc.Node.maxTouchNum&&(cc.Node.touchNum++,this._canTouch=!0,o.call(this,t));break;case cc.Node.EventType.TOUCH_MOVE:!this._canTouch&&cc.Node.touchNum<cc.Node.maxTouchNum&&(this._canTouch=!0,cc.Node.touchNum++),this._canTouch&&o.call(this,t);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:this._canTouch&&(this._canTouch=!1,cc.Node.touchNum--,o.call(this,t));break;default:o.call(this,t)}};var r=cc.Node.prototype._onPostActivated;cc.Node.prototype._onPostActivated=function(t){!t&&this._canTouch&&(this._canTouch=!1,cc.Node.touchNum--),r.call(this,t)};var c=cc.Node.prototype._onPreDestroy;cc.Node.prototype._onPreDestroy=function(){this._canTouch&&(this._canTouch=!1,cc.Node.touchNum--),c.call(this)};cc.Node.prototype.getChildByName;cc.Node.prototype.getChildByName=function(t){var e=this;if(!this._childByName){this._childByName={};for(var n=this._children,i=0,o=n.length;i<o;i++){var r=n[i]._name;r&&(this._childByName[r]=n[i])}this.on("child-added",function(t){t._name&&(e._childByName[t._name]=t)}),this.on("child-removed",function(t){t._name&&e._childByName[t._name]==t&&(e._childByName[t._name]=void 0)})}return this._childByName[t]},window.DF={},DF.plusOneColors={startBg:new cc.color(89,69,61,255),overBg:new cc.color(89,69,61,255),gameBg:new cc.color(89,69,61,255),topBg:new cc.color(166,137,124,255),tileBg:new cc.color(166,137,124,255),powerBarBg:new cc.color(166,137,124,255),power:new cc.color(100,107,48,255),num1:new cc.color(217,202,184,255),num2:new cc.color(191,177,159,255),num3:new cc.color(166,133,104,255),num4:new cc.color(115,86,69,255),num5:new cc.color(64,40,32,255),num6:new cc.color(115,100,56,255),num7:new cc.color(140,89,70,255),num8:new cc.color(115,56,50,255),num9:new cc.color(115,32,32,255),num10:new cc.color(115,103,88,255),num11:new cc.color(140,121,97,255),num12:new cc.color(191,146,107,255),num13:new cc.color(191,140,11,255),num14:new cc.color(213,185,112,255),num15:new cc.color(174,122,98,255),num16:new cc.color(181,91,82,255),num17:new cc.color(107,86,85,255),num18:new cc.color(73,58,61,255),num19:new cc.color(176,125,98,255),num20:new cc.color(232,171,127,255),nums:new cc.color(222,153,36,255)},DF.plusOneDF={score:0,combo:0},cc._RF.pop()},{}],gameData:[function(t,e,n){"use strict";cc._RF.push(e,"d6f20pc499L8Yu/g32KUwqy","gameData");var i=t("baseData");cc.Class({extends:i,name:"gameData",properties:{_lastSaveKey:void 0,luckyRollerMultiple:void 0,luckyRollerTicket:void 0,pluasOneMaxScore:void 0,popStarMaxScore:void 0,golds:void 0,diamonds:void 0},ctor:function(){this.initSaveData("LOCAL"),this.initGameData()},initLastSaveData:function(){var t=this.readValue("_lastSaveKey");return!!t&&(this.initSaveData(t),!0)},initSaveData:function(t){this.set("_lastSaveKey",t),this.storeValue("_lastSaveKey"),this.setSaveKey(t),this.autoReadSave("completeAppletGuide"),this.autoReadSave("pluasOneMaxScore"),this.autoReadSave("popStarMaxScore"),this.autoReadSave("golds"),this.autoReadSave("diamonds")},initGameData:function(){this.undefinedOrSet("luckyRollerTicket",2),this.undefinedOrSet("luckyRollerMultiple",0),audioData.undefinedOrSet("_SettingMusic","open"),audioData.undefinedOrSet("_SettingEffect","open"),audioData.undefinedOrSet("_SettingVibrate","open"),this.undefinedOrSet("pluasOneMaxScore",0),this.undefinedOrSet("popStarMaxScore",0),this.undefinedOrSet("golds",0),this.undefinedOrSet("diamonds",0)}}),cc._RF.pop()},{baseData:"baseData"}],initDatas:[function(t,e,n){"use strict";cc._RF.push(e,"55352VCpyNKkpwvckGX50Wu","initDatas");var i=["wxData","audioData","gameData"];for(var o in i)try{var r=i[o],c=t(r);window[r]=window[r]||new c}catch(t){cc.log(t)}cc._RF.pop()},{}],initMsg:[function(t,e,n){"use strict";cc._RF.push(e,"285634r7W1IfZNLzzxpoQIi","initMsg");var i={shareToFriend:function(){wxUtil.shareToWx({title:"\u767d\u5929\u7684\u6e38\u620f",query:"shareuserid="+wxData.get("userid"),success:function(t){util.showTip({desc:"\u5206\u4eab\u6210\u529f",btnCount:1})},fail:function(){util.showTip({desc:"\u7b80\u5355\u7684\u4e50\u8da3\u5c31\u662f\u7b80\u5355\u7684\u6e38\u620f\n\u548c\u670b\u53cb\u4e00\u8d77\u4eab\u53d7\uff01",btnCount:1})}})}};e.exports=i,cc._RF.pop()},{}],init:[function(t,e,n){"use strict";cc._RF.push(e,"72ebeGkqrxD6aVeuL1wK8xq","init"),window.util=t("util"),window.initMsg=t("initMsg"),t("uiFunc"),t("initDatas"),window.ui={baseNode:t("baseNode"),baseDlg:t("baseDlg"),baseWin:t("baseWin")},window.ShaderMaterial=t("ShaderMaterial"),window.ShaderLab=t("ShaderLab"),cc._RF.pop()},{ShaderLab:"ShaderLab",ShaderMaterial:"ShaderMaterial",baseDlg:"baseDlg",baseNode:"baseNode",baseWin:"baseWin",initDatas:"initDatas",initMsg:"initMsg",uiFunc:"uiFunc",util:"util"}],main:[function(t,e,n){"use strict";cc._RF.push(e,"97656HBrJdPJIAESvxEzPP8","main"),cc.Class({extends:cc.Component,onLoad:function(){window.OPPO&&window.OPPO.setLoadingProgress&&(window.OPPO.pvzprogress=40,this.setCustomLoadingProgress(28))},start:function(){util.init(),console.log("mainScene Start"),uiFunc.openUI("common/uiLogin"),window.OPPO&&window.OPPO.setLoadingProgress&&(window.OPPO.pvzprogress=100,this.setCustomLoadingProgress(100))},setCustomLoadingProgress:function(t){window.OPPO&&window.OPPO.getAppVersion()>1200&&window.OPPO.setLoadingProgress&&window.OPPO.pvzprogress<100&&(window.OPPO.pvzprogress+=t,window.OPPO.pvzprogress>=100&&(window.OPPO.pvzprogress=100),window.OPPO.setLoadingProgress(window.OPPO.pvzprogress),100==window.OPPO.pvzprogress&&window.OPPO.loadingComplete&&window.OPPO.loadingComplete())}}),cc._RF.pop()},{}],md5:[function(t,e,n){"use strict";cc._RF.push(e,"c40605EeCpKjZEXjqwX45+M","md5");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t,e,i,o,r,c){return n(function(t,e){return t<<e|t>>>32-e}(n(n(e,t),n(o,c)),r),i)}function r(t,e,n,i,r,c,a){return o(e&n|~e&i,t,e,r,c,a)}function c(t,e,n,i,r,c,a){return o(e&i|n&~i,t,e,r,c,a)}function a(t,e,n,i,r,c,a){return o(e^n^i,t,e,r,c,a)}function s(t,e,n,i,r,c,a){return o(n^(e|~i),t,e,r,c,a)}function u(t,e){var i,o,u,l,h;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var f=1732584193,d=-271733879,p=-1732584194,v=271733878;for(i=0;i<t.length;i+=16)o=f,u=d,l=p,h=v,d=s(d=s(d=s(d=s(d=a(d=a(d=a(d=a(d=c(d=c(d=c(d=c(d=r(d=r(d=r(d=r(d,p=r(p,v=r(v,f=r(f,d,p,v,t[i],7,-680876936),d,p,t[i+1],12,-389564586),f,d,t[i+2],17,606105819),v,f,t[i+3],22,-1044525330),p=r(p,v=r(v,f=r(f,d,p,v,t[i+4],7,-176418897),d,p,t[i+5],12,1200080426),f,d,t[i+6],17,-1473231341),v,f,t[i+7],22,-45705983),p=r(p,v=r(v,f=r(f,d,p,v,t[i+8],7,1770035416),d,p,t[i+9],12,-1958414417),f,d,t[i+10],17,-42063),v,f,t[i+11],22,-1990404162),p=r(p,v=r(v,f=r(f,d,p,v,t[i+12],7,1804603682),d,p,t[i+13],12,-40341101),f,d,t[i+14],17,-1502002290),v,f,t[i+15],22,1236535329),p=c(p,v=c(v,f=c(f,d,p,v,t[i+1],5,-165796510),d,p,t[i+6],9,-1069501632),f,d,t[i+11],14,643717713),v,f,t[i],20,-373897302),p=c(p,v=c(v,f=c(f,d,p,v,t[i+5],5,-701558691),d,p,t[i+10],9,38016083),f,d,t[i+15],14,-660478335),v,f,t[i+4],20,-405537848),p=c(p,v=c(v,f=c(f,d,p,v,t[i+9],5,568446438),d,p,t[i+14],9,-1019803690),f,d,t[i+3],14,-187363961),v,f,t[i+8],20,1163531501),p=c(p,v=c(v,f=c(f,d,p,v,t[i+13],5,-1444681467),d,p,t[i+2],9,-51403784),f,d,t[i+7],14,1735328473),v,f,t[i+12],20,-1926607734),p=a(p,v=a(v,f=a(f,d,p,v,t[i+5],4,-378558),d,p,t[i+8],11,-2022574463),f,d,t[i+11],16,1839030562),v,f,t[i+14],23,-35309556),p=a(p,v=a(v,f=a(f,d,p,v,t[i+1],4,-1530992060),d,p,t[i+4],11,1272893353),f,d,t[i+7],16,-155497632),v,f,t[i+10],23,-1094730640),p=a(p,v=a(v,f=a(f,d,p,v,t[i+13],4,681279174),d,p,t[i],11,-358537222),f,d,t[i+3],16,-722521979),v,f,t[i+6],23,76029189),p=a(p,v=a(v,f=a(f,d,p,v,t[i+9],4,-640364487),d,p,t[i+12],11,-421815835),f,d,t[i+15],16,530742520),v,f,t[i+2],23,-995338651),p=s(p,v=s(v,f=s(f,d,p,v,t[i],6,-198630844),d,p,t[i+7],10,1126891415),f,d,t[i+14],15,-1416354905),v,f,t[i+5],21,-57434055),p=s(p,v=s(v,f=s(f,d,p,v,t[i+12],6,1700485571),d,p,t[i+3],10,-1894986606),f,d,t[i+10],15,-1051523),v,f,t[i+1],21,-2054922799),p=s(p,v=s(v,f=s(f,d,p,v,t[i+8],6,1873313359),d,p,t[i+15],10,-30611744),f,d,t[i+6],15,-1560198380),v,f,t[i+13],21,1309151649),p=s(p,v=s(v,f=s(f,d,p,v,t[i+4],6,-145523070),d,p,t[i+11],10,-1120210379),f,d,t[i+2],15,718787259),v,f,t[i+9],21,-343485551),f=n(f,o),d=n(d,u),p=n(p,l),v=n(v,h);return[f,d,p,v]}function l(t){var e,n="",i=32*t.length;for(e=0;e<i;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function h(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function f(t){var e,n,i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return i}function d(t){return unescape(encodeURIComponent(t))}function p(t){return function(t){return l(u(h(t),8*t.length))}(d(t))}function v(t,e){return function(t,e){var n,i,o=h(t),r=[],c=[];for(r[15]=c[15]=void 0,o.length>16&&(o=u(o,8*t.length)),n=0;n<16;n+=1)r[n]=909522486^o[n],c[n]=1549556828^o[n];return i=u(r.concat(h(e)),512+8*e.length),l(u(c.concat(i),640))}(d(t),d(e))}function m(t,e,n){return e?n?v(e,t):function(t,e){return f(v(t,e))}(e,t):n?p(t):function(t){return f(p(t))}(t)}"function"==typeof define&&define.amd?define(function(){return m}):"object"===(void 0===e?"undefined":i(e))&&e.exports?e.exports=m:t.md5=m})(void 0),cc._RF.pop()},{}],runtime:[function(t,e,n){"use strict";cc._RF.push(e,"045fbsd7btDrJ5jRbxVWsiD","runtime");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t){var e,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},c=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n,i){var o=e&&e.prototype instanceof m?e:m,r=Object.create(o.prototype),c=new L(i||[]);return r._invoke=function(t,e,n){var i=h;return function(o,r){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw r;return P()}for(n.method=o,n.arg=r;;){var c=n.delegate;if(c){var a=C(c,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var s=l(t,e,n);if("normal"===s.type){if(i=n.done?p:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=p,n.method="throw",n.arg=s.arg)}}}(t,n,c),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function _(){}var y={};y[c]=function(){return this};var S=Object.getPrototypeOf,b=S&&S(S(M([])));b&&b!==n&&o.call(b,c)&&(y=b);var x=_.prototype=m.prototype=Object.create(y);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,r){function c(){return new Promise(function(e,c){(function e(n,r,c,a){var s=l(t[n],t,r);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"===(void 0===h?"undefined":i(h))&&o.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,c,a)},function(t){e("throw",t,c,a)}):Promise.resolve(h).then(function(t){u.value=t,c(u)},function(t){return e("throw",t,c,a)})}a(s.arg)})(n,r,e,c)})}return e=e?e.then(c,c):c()}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function M(t){if(t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}return{next:P}}function P(){return{value:e,done:!0}}g.prototype=x.constructor=_,_.constructor=g,_[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,i,o){var r=new T(u(e,n,i,o));return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},w(x),x[s]="Generator",x[c]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,o){return a.type="throw",a.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var c=this.tryEntries[r],a=c.completion;if("root"===c.tryLoc)return i("end");if(c.tryLoc<=this.prev){var s=o.call(c,"catchLoc"),u=o.call(c,"finallyLoc");if(s&&u){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return i(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var c=r?r.completion:{};return c.type=t,c.arg=e,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;F(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:M(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}}})("object"===(void 0===e?"undefined":i(e))?e.exports:{});cc._RF.pop()},{}],star:[function(t,e,n){"use strict";cc._RF.push(e,"61fd8iNyRJApaZKdX/h9dJC","star"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},setColorWhich:function(t){var e=[cc.color(116,179,231),cc.color(150,243,137),cc.color(136,72,152),cc.color(232,92,95),cc.color(231,235,131)];this.node.color=e[t]},setArrPosition:function(t,e){var n=this.getArrPos(t,e);this.node.setPosition(n)},getArrPos:function(t,e){var n=this.game.sp_main.width/this.game.numX*(t+.5),i=this.game.sp_main.height/this.game.numY*(e+.5);return cc.v2(n,i)},moveArrPos:function(t,e,n){n=util.ifNull(n,.18);var i=this.getArrPos(t,e),o=cc.moveTo(n,i);this.node.runAction(o)}}),cc._RF.pop()},{}],ui2048:[function(t,e,n){"use strict";cc._RF.push(e,"11d6dq0Q+RALZP8gBMmRXJx","ui2048");var i=t("baseWin");cc.Class({extends:i,start:function(){},onEnter:function(){var t=this;this.btn_back.quickBt(function(){t.touchBack()}),console.log("onEnter");this.btn_share.quickBt(function(){wxUtil.shareToWx({title:"\u767d\u5929\u7684\u6e38\u620f",query:"shareuserid="+wxData.get("userid"),success:function(t){util.showTip({desc:"\u5206\u4eab\u6210\u529f",btnCount:1})},fail:function(){util.showTip({desc:"\u6062\u590d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",btnCount:1})}})})},touchClose:function(){uiFunc.closeUI(this)},touchBack:function(){uiFunc.closeUI(this),uiFunc.openUI("hall/uiHall")}}),cc._RF.pop()},{baseWin:"baseWin"}],uiAlert:[function(t,e,n){"use strict";cc._RF.push(e,"60ebd56nlNDw5NsBKZ9BnqG","uiAlert"),cc.Class({extends:ui.baseNode,properties:{},start:function(){},init:function(t,e){var n=this.lbl_desc.getComponent(cc.Label);n.string=t;var i=this;n.unscheduleAllCallbacks(),n.scheduleOnce(function(){uiFunc.closeUI(i)},e)}}),cc._RF.pop()},{}],uiCommonTips:[function(t,e,n){"use strict";cc._RF.push(e,"fe2aa7C8FRGMYhsVgCkZX1K","uiCommonTips");var i=t("baseDlg");cc.Class({extends:i,properties:{},start:function(){},init:function(t){var e=this;this.node.stopAllActions();var n=this;t.richDesc?(this.lb_rich.active=!0,this.lb_desc.active=!1,this.setRichText(t.richDesc)):(this.lb_rich.active=!1,this.lb_desc.active=!0,this.lb_desc.getComponent(cc.Label).string=t.desc),t.confirmText&&(this.lb_confirm.getComponent(cc.Label).string=t.confirmText),t.cancleText&&(this.lbl_cancle.getComponent(cc.Label).string=t.cancleText),this.btn_close.onClick(function(){t.cancelFunc&&t.cancelFunc(),e.closeSelf()},this),this.btn_confirm.onClick(function(){t.confirmFunc&&t.confirmFunc(),e.closeSelf()},this),this.btn_cancel.onClick(function(){t.cancelFunc&&t.cancelFunc(),e.closeSelf()},this),t.btnCount&&1==t.btnCount&&(this.btn_cancel.active=!1,this.btn_confirm.x=0),t.time&&this.node.delayCall(function(){n.closeSelf()},t.time)},setRichText:function(t){this.lbl_rich.getComponent(cc.RichText).lineHeight=48,this.lbl_rich.getComponent(cc.RichText).string=t}}),cc._RF.pop()},{baseDlg:"baseDlg"}],uiFunc:[function(t,e,n){"use strict";cc._RF.push(e,"a073dJH8f5HTYNo2xS8sLdE","uiFunc");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.uiFunc={uiList:[],cacheUIList:[],openingUI:{}},uiFunc.openUI=function(t,e,n){if(this.openingUI[t])cc.error("\u7a97\u53e3\u6b63\u5728\u6253\u5f00\u4e2d:"+t);else{this.openingUI[t]=!0;var i=function(n){var i=n.getComponent("baseNode");e&&e(i),i&&i.show(),this.openingUI[t]=null}.bind(this),o=this.findUI(t);if(o)return cc.error("\u7a97\u53e3\u91cd\u590d\u521b\u5efa,\u76f4\u63a5\u663e\u793a\u4e0a\u4e00\u4e2a\u7a97\u53e3:"+t),o.active=!0,void i(o);for(var r=0;r<uiFunc.cacheUIList.length;r++){var c=uiFunc.cacheUIList[r];if(c&&c.pathName===t)return c.active=!0,c.parent=cc.Canvas.instance.node,c.bWin=n,uiFunc.uiList.push(c),uiFunc.cacheUIList.splice(r,1),void i(c)}cc.loader.loadRes("ui/"+t,function(e,o){if(e)return this.openingUI[t]=null,void cc.error(e.message||e);var r=cc.instantiate(o);r.pathName=t,r.parent=cc.Canvas.instance.node,r.bWin=n,uiFunc.uiList.push(r),i(r)}.bind(this))}},uiFunc.closeAllDlg=function(){for(var t=uiFunc.uiList.length-1;t>=0;t--){var e=uiFunc.uiList[t];if(e&&!e.bWin){e.active=!1;var n=e.getComponent("baseNode");n&&n.hide&&n.hide(),e.removeFromParent(!1),uiFunc.cacheUIList.push(e),uiFunc.uiList.splice(t,1)}}},uiFunc.closeUI=function(t,e,n){for(var o=uiFunc.uiList.length-1;o>=0;o--){var r=uiFunc.uiList[o];if(r&&(r.pathName===t||"object"==(void 0===t?"undefined":i(t))&&r===t.node)){if(r.active=!1,n)r.removeFromParent(!0);else{var c=r.getComponent("baseNode");c&&c.hide&&c.hide(),r.removeFromParent(!1),uiFunc.cacheUIList.push(r)}return uiFunc.uiList.splice(o,1),void(e&&e())}}cc.error("uiFunc.closeUI fail not found ui "+t)},uiFunc.findUI=function(t,e){for(var n=uiFunc.uiList.length-1;n>=0;n--){var i=uiFunc.uiList[n];if(i&&i.pathName===t)return void 0!==e?i.getComponent("baseNode"):i}},uiFunc.clearUI=function(t){this.findUI(t)&&this.closeUI(t)},uiFunc.exitGame=function(){0},cc._RF.pop()},{}],uiHall:[function(t,e,n){"use strict";cc._RF.push(e,"1c879TOYtJJB53ZxhyqkI+I","uiHall");var i=t("baseWin");cc.Class({extends:i,start:function(){this.initLogin()},initLogin:function(){var t=this;wxUtil.getUserInfo(function(e){console.log("getUserInfo",e),console.log("\u83b7\u53d6\u4fe1\u606f\u6210\u529f",e),t.sendLogin(e.userInfo)},function(){console.log("\u83b7\u53d6\u4fe1\u606f\u5931\u8d25"),wxUtil.createUserInfoButton(t.btn_login,function(e){console.log("createUserInfoButton",e),t.sendLogin(e.userInfo)})})},sendLogin:function(t){console.log("sendLogin",t),wxData.set("nickName",t.nickName),wxData.set("headweb",t.avatarUrl),wxData.set("sex",t.gender),wxData.save("nickName"),wxData.save("headweb"),wxData.save("sex"),this.initUserInfo()},initUserInfo:function(){console.log("\u5fae\u4fe1\u767b\u5f55\u6210\u529f\u540e\u7684\u521d\u59cb\u5316\u4eba\u7269\u4fe1\u606f"),this.lb_name.setLabel(wxData.nickName),this.img_head.loadUrlImage(wxData.headweb,"png")},onEnter:function(){var t=this;this.btn_0.quickBt(function(){initMsg.shareToFriend()}),this.btn_1.quickBt(function(){uiFunc.closeUI(t),uiFunc.openUI("plusOne/uiPlusOne")}),this.btn_2.quickBt(function(){uiFunc.closeUI(t),uiFunc.openUI("popStar/uiPopStar")})},touchClose:function(){uiFunc.closeUI(this)}}),cc._RF.pop()},{baseWin:"baseWin"}],uiLogin:[function(t,e,n){"use strict";cc._RF.push(e,"ada57Po5YVPKohyGAg+dRRw","uiLogin"),cc.Class({extends:ui.baseWin,properties:{},start:function(){},onEnter:function(){console.log("onEnter"),this.initLogin()},initLogin:function(){var t=this;wxUtil.loginWx(function(e){t.downloadResources(0)})},downloadResources:function(t){var e=this,n=["ui","img2/common"],i=t||0,o=0;cc.loader.loadResDir(n[i],function(t,r){if(r>0){var c=(i+t/r)*(1/n.length);e.login_ProgressBar.active=!0,c>o&&(o=c,e.login_ProgressBar.getComponent("cc.ProgressBar").progress=c,e.lb_progress.getComponent(cc.Label).string=(100*o).toFixed(0)+"%")}},function(){++i<n.length?e.downloadResources(i):(console.log("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210"),e._bLoadFinshRes=!0,e.login_ProgressBar.active=!1,e.loadFinsh())})},loadFinsh:function(){var t=this;setTimeout(function(){t.showLoginPanel()},100)},showLoginPanel:function(){uiFunc.closeUI(this,null,!0),uiFunc.openUI("hall/uiHall")}}),cc._RF.pop()},{}],uiPlusOne:[function(t,e,n){"use strict";cc._RF.push(e,"e3199+cBPJIJqiEZf670mU5","uiPlusOne");var i=t("baseWin");cc.Class({extends:i,properties:{tilePre:{default:null,type:cc.Prefab}},start:function(){GM.plusOne=this,this.canTouch=!0,this.reliveTime=0,this._curScore=0,gameData.bindLable("pluasOneMaxScore",this.lb_max_score),this.tiles=[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null]];var t=new Array;this.maxNum=8;for(var e=0;e<this.maxNum-3;e++)t[e]=this.maxNum-3-e;var n=0;for(e=0;e<t.length;e++)n+=t[e];for(var i=0;i<5;i++)for(var o=0;o<5;o++){var r=cc.instantiate(this.tilePre);r.getComponent("Tile").game=this,r.width=(this.sp_main.width-30)/5,r.height=(this.sp_main.height-30)/5;for(var c=0;;){0;var a=new Array,s=new Array;c=Math.random()*n;var u=0,l=0;for(e=0;e<t.length;e++){if(c>=l&&c<=l+t[e]){u=e+1;break}l+=t[e]}if(r.getComponent("Tile").setNum(u,!1,!1),r.setPosition(5+(5+r.width)*o+r.width/2,5+(5+r.height)*i+r.height/2),this.tiles[i][o]=r,this.scanAround(i,o,-1,-1,u,a,s),a.length<3)break}r.getComponent("Tile").setArrPosition(i,o),this.sp_main.addChild(r)}this.addEvents()},showRelive:function(){util.showTip({desc:"\u5206\u4eab\u590d\u6d3b\u6765\u4e00\u6b21\uff01",confirmFunc:function(){GM.plusOne.touchRelive()},cancelFunc:function(){GM.plusOne.touchBack()}})},onRelive:function(){console.log("onRelive"),this.reliveTime+=1,this.canTouch=!0;for(var t=5;t>0;t--){var e="power_"+t;this[e].active=!0,this[e].runAction(cc.scaleTo(.1,1))}},touchRelive:function(){wxUtil.shareToWx({title:"\u767d\u5929\u7684\u6e38\u620f",query:"shareuserid="+wxData.get("userid"),success:function(t){GM.plusOne.onRelive()},fail:function(){util.showTip({desc:"\u5206\u4eab\u5931\u8d25,\u8bf7\u91cd\u8bd5",confirmFunc:function(){GM.plusOne.touchRelive()},cancelFunc:function(){GM.plusOne.touchBack()}})}})},storageMaxScore:function(){this._curScore>gameData.pluasOneMaxScore&&gameData.set("pluasOneMaxScore",this._curScore)},scanAround:function(t,e,n,i,o,r,c){if(null!=this.tiles[t][e]){var a=!1;if(void 0==c&&(c=new Array),-1==c.indexOf(t+"#"+e)){if(c.push(t+"#"+e),t<4&&(n!=t+1||i!=e)&&null!=this.tiles[t+1][e])parseInt(this.tiles[t+1][e].getComponent("Tile").numLabel.string)==o&&(-1==r.indexOf(t+"#"+e)&&r.push(t+"#"+e),this.scanAround(t+1,e,t,e,o,r,c),a=!0);if(t>0&&(n!=t-1||i!=e)&&null!=this.tiles[t-1][e])parseInt(this.tiles[t-1][e].getComponent("Tile").numLabel.string)==o&&(-1==r.indexOf(t+"#"+e)&&r.push(t+"#"+e),this.scanAround(t-1,e,t,e,o,r,c),a=!0);if(e>0&&(n!=t||i!=e-1)&&null!=this.tiles[t][e-1])parseInt(this.tiles[t][e-1].getComponent("Tile").numLabel.string)==o&&(-1==r.indexOf(t+"#"+e)&&r.push(t+"#"+e),this.scanAround(t,e-1,t,e,o,r,c),a=!0);if(e<4&&(n!=t||i!=e+1)&&null!=this.tiles[t][e+1])parseInt(this.tiles[t][e+1].getComponent("Tile").numLabel.string)==o&&(-1==r.indexOf(t+"#"+e)&&r.push(t+"#"+e),this.scanAround(t,e+1,t,e,o,r,c),a=!0);if(!a&&-1!=n&&-1!=i)parseInt(this.tiles[t][e].getComponent("Tile").numLabel.string)==o&&-1==r.indexOf(t+"#"+e)&&r.push(t+"#"+e)}}},operateLogic:function(t,e,n,i){var o=new Array,r=new Array;if(this.scanAround(t,e,-1,-1,n,o,r),o.length>=3){var c=0;for(var a in o){var s=o[a].split("#")[0],u=o[a].split("#")[1];c+=parseInt(10*this.tiles[s][u].getComponent("Tile").numLabel.string),s!=t||u!=e?(this.tiles[s][u].getComponent("Tile").destoryTile(),this.tiles[s][u]=null):(this.tiles[s][u].getComponent("Tile").setNum(n+1,!1,!0),this.maxNum=n+1>this.maxNum?n+1:this.maxNum)}if(this._curScore+=c,this.lb_score.setLabel(this._curScore),this.storageMaxScore(),this.scheduleOnce(function(){this.moveAllTileDown()},.1),!i)for(var l=5;l>0;l--){var h="power_"+l;if(0==this[h].active){this[h].active=!0,this[h].setScale(0),this[h].runAction(cc.scaleTo(.1,1));break}}return DF.plusOneDF.combo++,DF.plusOneDF.combo<9?util.playSound("star/star"+DF.plusOneDF.combo):util.playSound("star/star8"),!0}return this.isCal=!1,!1},moveAllTileDown:function(){for(var t=0;t<5;t++)for(var e=0;e<5;e++)if(null!=this.tiles[e][t])for(var n=e;n>0;n--)null==this.tiles[n-1][t]&&(this.tiles[n-1][t]=this.tiles[n][t],this.tiles[n][t]=null,this.tiles[n-1][t].getComponent("Tile").moveTo(n-1,t));this.scheduleOnce(function(){for(var t=new Array,e=0;e<this.maxNum-3;e++)t[e]=this.maxNum-3-e;var n=0;for(e=0;e<t.length;e++)n+=t[e];for(var i=0;i<5;i++)for(var o=0;o<5;o++)if(null==this.tiles[o][i]){var r=cc.instantiate(this.tilePre);r.getComponent("Tile").game=this,r.width=(this.sp_main.width-30)/5,r.height=(this.sp_main.height-30)/5;var c=Math.random()*n,a=0,s=0;for(e=0;e<t.length;e++){if(c>=s&&c<=s+t[e]){a=e+1;break}s+=t[e]}r.getComponent("Tile").setNum(a,!1,!1),r.getComponent("Tile").newTile(o,i),this.tiles[o][i]=r,this.sp_main.addChild(r)}this.scheduleOnce(function(){for(var t=!1,e=0;e<5;e++)for(var n=0;n<5;n++)t||(t=null!=this.tiles[n][e]&&this.operateLogic(n,e,parseInt(this.tiles[n][e].getComponent("Tile").numLabel.string),!1))},.5)},.3)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t.touchBack()})},touchClose:function(){this.canTouch=!0,uiFunc.closeUI(this,null,!0)},touchBack:function(){this.touchClose(),uiFunc.openUI("hall/uiHall")}}),cc._RF.pop()},{baseWin:"baseWin"}],uiPopStar:[function(t,e,n){"use strict";cc._RF.push(e,"5f8498f5VpGQLgb60RRvIR3","uiPopStar");var i=t("baseWin");cc.Class({extends:i,properties:{tilePre:{default:null,type:cc.Prefab},tamplateLabel:{default:null,type:cc.Node}},start:function(){GM.popStar=this,this.jiezhou=.65,this._curScore=0,this.reliveTime=0,gameData.bindLable("popStarMaxScore",this.lb_max_score),this.currentLevel=1,this.currentLevelScore=0,this.numX=10,this.numY=10,this.starSize=52,this.sameColorList=[],this.init();var t=this;this.btn_back.quickBt(function(){t.touchBack()})},storageMaxScore:function(){this._curScore>gameData.popStarMaxScore&&gameData.set("popStarMaxScore",this._curScore)},init:function(){this.isClear=!1,this.lb_clear.active=!1,this.sp_main.removeAllChildren(),this.canTouch=!0,this.initStarTable(),this.lb_stage.setLabel(this.currentLevel),this.targetScore=1e3*(1+this.currentLevel)*this.currentLevel/2,this.lb_target.setLabel(this.targetScore),this.lb_score.setLabel(this._curScore),this.sp_main.off(cc.Node.EventType.TOUCH_START),this.sp_main.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this)},onTouchBegan:function(t){if(0!=this.canTouch){var e=t.touch.getLocation();e=this.sp_main.convertToNodeSpace(e),this.ccTouchBeganPos=e;for(var n=0;n<this.starTable.length;n++)for(var i=0;i<this.starTable[n].length;i++)if(this.starTable[n][i]&&null!=this.starTable[n][i]){var o=this.starTable[n][i].getPosition(),r=cc.rect(o.x-this.starSize/2,o.y-this.starSize/2,this.starSize,this.starSize),c=this.starTable[n][i];if(r.contains(this.ccTouchBeganPos)){if(this.sameColorList.length>1)if(util.tabcontains(this.sameColorList,c)){var a=Math.floor(this.sameColorList.length/2);a>8&&(a=8),util.playSound("star/star"+a),this.removeSameColorStars(),this.lb_tipScore.active=!1}else{for(var s=0;s<this.sameColorList.length;s++)this.sameColorList[s]&&this.sameColorList[s].runAction(cc.scaleTo(.1,1));this.checkSameColorStars(c),this.sameColorList.length>1?(util.SoundClick(),this.showScoreTip()):this.lb_tipScore.active=!1}else this.checkSameColorStars(c),this.sameColorList.length>1?(util.SoundClick(),this.showScoreTip()):this.lb_tipScore.active=!1;break}}}},showScoreTip:function(){this.lb_tipScore.active=!0;var t=this.sameColorList.length,e=t+" blocks "+t*t*5+" points";this.lb_tipScore.setLabel(e)},removeSameColorStars:function(){var t=this.sameColorList.length;this.oneStarScore=5*t;for(var e=0;e<t;e++){var n=this.sameColorList[e];if(n){var i=n.starData.indexOfColumn,o=n.starData.indexOfRow,r=cc.instantiate(this.tamplateLabel);r.active=!0,r.setLabel(this.oneStarScore),this.nd_lb.addChild(r);var c=util.moveToOtherWordPoint(r,n);r.setPosition(c);var a=util.moveToOtherWordPoint(r,this.sp_score),s=cc.sequence(cc.moveTo(.3+e/20,a),cc.removeSelf(!0),cc.callFunc(function(){if(this._curScore+=this.oneStarScore,this.storageMaxScore(),this.lb_score.setLabel(this._curScore),this._curScore>=this.targetScore&&0==this.isClear){this.isClear=!0,this.lb_clear.active=!0,this.lb_clear.setPosition(cc.v2(0,-266));var t=cc.v2(-216,100);this.lb_clear.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(1,t)))}},this));r.runAction(s),this.starTable[i].splice(o,1,null),n.removeFromParent(!0)}}this.sameColorList=[],this.fallStar()},fallStar:function(){for(var t=0;t<this.starTable.length;t++)for(var e=this.starTable[t],n=e.length,i=0;i<n;i++){if(null==e[i])for(var o=i+1;o<n;){var r=e[o];null!=r&&(r.starData.indexOfColumn=t,r.starData.indexOfRow=i,this.starTable[t].splice(i,1,r),this.starTable[t].splice(o,1,null),o=n),o++}}this.combineStar()},checkCombineStar:function(){for(var t=0;t<this.starTable.length-1;t++)if(null==this.starTable[t][0]&&null!=this.starTable[t+1][0])return t;return-1},combineStar:function(){for(;this.checkCombineStar()>=0;){var t=this.checkCombineStar();if(t==this.starTable.length-1)for(var e=0;e<this.starTable[t].length;e++)this.starTable[t].splice(e,1,null);else for(var n=t+1;n<this.starTable.length;n++)for(var i=0;i<this.starTable[n].length;i++)null!=this.starTable[n][i]&&(this.starTable[n][i].starData.indexOfColumn=n-1),this.starTable[n-1].splice(i,1,this.starTable[n][i]),n==this.starTable.length-1&&this.starTable[n].splice(i,1,null)}this.moveStar()},moveStar:function(){for(var t=0;t<this.starTable.length;t++)for(var e=this.starTable[t],n=e.length,i=0;i<n;i++){var o=e[i];o?(o.getComponent("star").moveArrPos(o.starData.indexOfColumn,o.starData.indexOfRow),o.starData.rand+o.starData.indexOfColumn+o.starData.indexOfRow+"    "):"xxx"+t+i+"    "}this.deadStar()},deadStar:function(){for(var t=3.5,e=!0,n=0,i=0;i<this.starTable.length;i++)for(var o=this.starTable[i],r=o.length,c=0;c<r;c++){if(null!=(u=o[c])){if(this.checkOneStarFourSide(u).length>0)return void(e=!1);n+=1}}if(e){this.canTouch=!1;for(var a=9;a>=0;a--)for(var s=0;s<10;s++){var u;if(null!=(u=this.starTable[s][a])){var l=2+.3*s-.4*a;if(l>t&&(t=l),u.runAction(cc.sequence(cc.delayTime(l),cc.removeSelf(!0))),n<10){0==n&&(this._curScore+=1e3,this.lb_score.setLabel(this._curScore),this.storageMaxScore()),this.oneDeadStarScore=Math.floor((1e3-100*n)/n),this.oneDeadStarScore=this.oneDeadStarScore-this.oneDeadStarScore%10;var h=cc.instantiate(this.tamplateLabel);h.active=!0,h.setLabel(this.oneDeadStarScore),this.nd_lb.addChild(h);var f=util.moveToOtherWordPoint(h,u);h.setPosition(f);var d=util.moveToOtherWordPoint(h,this.sp_score),p=cc.sequence(cc.delayTime(l),cc.moveTo(.3+a/20,d),cc.callFunc(function(){this._curScore+=this.oneDeadStarScore,this.lb_score.setLabel(this._curScore),this.storageMaxScore()},this),cc.removeSelf(!0));h.runAction(p)}}}}this.node.delayCall(function(){GM.popStar.winStar()},t)},initStarTable:function(){this.starTable=new Array(this.numX);for(var t=0;t<this.numX;t++){for(var e=new Array(this.numY),n=0;n<this.numY;n++){var i=this.getRandomStar(t,n);null!=i&&this.sp_main.addChild(i),e[n]=i}this.starTable[t]=e}},goToNextLevel:function(){this.currentLevel+=1;this.currentLevel,this.currentLevel;this.canTouch=!0,this.init()},winStar:function(){var t=this;if(1==this.isClear){this.currentLevel+=1,this.currentLevelScore=this._curScore;var e=1e3*(1+this.currentLevel)*this.currentLevel/2;this.canTouch=!1,this.node.delayCall(function(){t.sp_win.active=!0,t.sp_win.x=-cc.winSize.width,t.sp_win.width=cc.winSize.width,t.next_level.setLabel("level "+t.currentLevel),t.next_target.setLabel("target "+e);var n=cc.sequence(cc.moveTo(1*this.jiezhou,cc.v2(0,0)),cc.delayTime(2*this.jiezhou),cc.moveTo(1*this.jiezhou,cc.v2(-cc.winSize.width,0)));t.sp_win.runAction(n)},2*this.jiezhou),this.node.delayCall(function(){t.init()},4*this.jiezhou)}else if(0==this.reliveTime)this.showRelive();else{util.showAlert("GameOver!",1),this.currentLevel=1,this.currentLevelScore=0;t=this;this.node.delayCall(function(){t.touchBack()},1)}},showRelive:function(){util.showTip({desc:"\u5206\u4eab\u590d\u6d3b\u6765\u4e00\u6b21\uff01",confirmFunc:function(){GM.popStar.touchRelive()},cancelFunc:function(){GM.popStar.touchBack()}})},onRelive:function(){this._curScore=this.targetScore,this.reliveTime+=1,this.storageMaxScore(),this.goToNextLevel()},touchRelive:function(){wxUtil.shareToWx({title:"\u767d\u5929\u7684\u6e38\u620f",query:"shareuserid="+wxData.get("userid"),success:function(t){GM.popStar.onRelive()},fail:function(){util.showTip({desc:"\u5206\u4eab\u5931\u8d25,\u8bf7\u91cd\u8bd5",confirmFunc:function(){GM.popStar.touchRelive()},cancelFunc:function(){GM.popStar.touchBack()}})}})},getRandomStar:function(t,e){var n=util.getRandom(5),i=cc.instantiate(this.tilePre),o=i.getComponent("star");o.game=this,i.width=this.starSize,i.height=this.starSize,o.setColorWhich(n);this.sp_main.width,this.numX;var r=o.getArrPos(t,e);i.setPosition(r.x,1300),i.starData={rand:n,indexOfColumn:t,indexOfRow:e};var c=e/10,a=cc.moveTo(c,r);return i.runAction(a),i},onPauseClicked:function(){util.mlog("onPauseClicked")},onResumeClicked:function(){util.mlog("onResumeClicked")},onSaveExitClicked:function(){util.mlog("onSaveExitClicked")},checkOneStarFourSide:function(t){if(null!=t){var e=[],n=t.starData.rand,i=t.starData.indexOfColumn,o=t.starData.indexOfRow;if(o<9){var r=this.starTable[i][o+1];null!=r&&r.starData.rand==n&&e.push(r)}if(o>0){var c=this.starTable[i][o-1];null!=c&&c.starData.rand==n&&e.push(c)}if(i>0){var a=this.starTable[i-1][o];null!=a&&a.starData.rand==n&&e.push(a)}if(i<9){var s=this.starTable[i+1][o];null!=s&&s.starData.rand==n&&e.push(s)}return e}},checkSameColorStars:function(t){if(null!=t){this.sameColorList=[],this.sameColorList.push(t);var e=[];for(e.push(t);e.length>0;)for(var n=0;n<e.length;n++){var i=this.checkOneStarFourSide(e[n]);if(i.length>0)for(var o=0;o<i.length;o++)0==util.tabcontains(this.sameColorList,i[o])&&(this.sameColorList.push(i[o]),e.push(i[o]));e.splice(n,1)}if(this.sameColorList.length>1)for(var r=0;r<this.sameColorList.length;r++){var c=this.sameColorList[r];c&&c.runAction(cc.scaleTo(.1,1.08))}}},touchClose:function(){this.reliveTime=0,uiFunc.closeUI(this,null,!0)},touchBack:function(){this.touchClose(),uiFunc.openUI("hall/uiHall")}}),cc._RF.pop()},{baseWin:"baseWin"}],uiShader:[function(t,e,n){"use strict";cc._RF.push(e,"837cdnMAdFM04oE6AA93RM4","uiShader");var i=t("baseWin");cc.Class({extends:i,properties:{},start:function(){this.state=1,this.demoTab=["ShaderStone","ShaderIce","ShaderBins","WenyuMain"];var t=this;util.openUi("shader/demo/WenyuMain",function(e){t.center_node.addChild(e)})},touchClose:function(){uiFunc.closeUI(this)},touchBack:function(){uiFunc.closeUI(this),uiFunc.openUI("hall/uiHall")}}),cc._RF.pop()},{baseWin:"baseWin"}],uiTest:[function(t,e,n){"use strict";cc._RF.push(e,"4645cXi5SJCkITxHyc2AKMv","uiTest");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("baseWin");cc.Class({extends:o,properties:{},start:function(){this.addEvents()},addEvents:function(){this.btn_1.quickBt(function(){util.mlog("btn_1")}),this.btn_3.quickBt(function(){util.mlog("btn_3")}),this.btn_2.quickBt(function(){util.mlog("btn_2")})},saveMsg:function(t,e){0},getMsg:function(t){var e=wxUtil.getLaunchParam();!e||1104!=e.scene&&1103!=e.scene?util.mlog("\u8bf7\u4ece\u201c\u6211\u7684\u5c0f\u7a0b\u5e8f\u201d\n\u5165\u53e3\u8fdb\u5165\u6e38\u620f\uff01",e.scene,i(e.scene)):util.mlog("\u6210\u529f")},touchClose:function(){uiFunc.closeUI(this,null,!0)}}),cc._RF.pop()},{baseWin:"baseWin"}],util:[function(t,e,n){"use strict";cc._RF.push(e,"0af18aEeCxO5aiH+YOXZVuu","util");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t("extend"),t("wxUtil");var o={init:function(){(function(){var t="img2/common/singleColor";cc.loader.loadRes(t,cc.SpriteFrame,function(e,n){GM.hasLoadImg[t]=n})})(),window.log=console.log.bind(console)},isChangweiTest:!1,PrintPosDiff:15,mlog:function(){var t="";for(var e in arguments)t+=0==e?arguments[e]:" ; "+arguments[e];o.PrintPosDiff>1?o.PrintPosDiff-=1:o.PrintPosDiff=15;var n=cc.director.getScene(),i=new cc.Node("loadText"),r=i.addComponent(cc.Label);i.color=new cc.Color(80,19,0),i.position=cc.v2(cc.winSize.width/2,30*o.PrintPosDiff),r.fontSize=30,r.Font="\u9ed1\u4f53",r.string=t,n.addChild(i),i.zIndex=9999;var c=cc.sequence(cc.spawn(cc.fadeOut(6.5),cc.moveBy(6.5,cc.v2(0,400))),cc.removeSelf());i.runAction(c)},loadSp:function(t,e,n){if(GM.hasLoadImg[e]){var i=new cc.Node("loadSp");i.addComponent(cc.Sprite).spriteFrame=GM.hasLoadImg[e],t.addChild(i),null!=n&&n(i)}else cc.loader.loadRes(e,cc.SpriteFrame,function(i,o){if(i)cc.error(i.message||i);else{var r=new cc.Node("loadSp");r.addComponent(cc.Sprite).spriteFrame=o,GM.hasLoadImg[e]=o,t.addChild(r),null!=n&&n(r)}})},moveToOtherWordPoint:function(t,e){var n=e.getPosition();return n=e.getParent().convertToWorldSpace(n),t.getParent().convertToNodeSpace(n)},playSound:function(t){var e="audio/"+t;null==GM.hasLoadSound[e]?cc.loader.loadRes(e,cc.AudioClip,function(t,n){t?cc.error(t.message||t):(cc.audioEngine.playEffect(n,!1),GM.hasLoadSound[e]=n)}):cc.audioEngine.playEffect(GM.hasLoadSound[e],!1)},SoundClick:function(){o.playSound("common/Common_Panel_Dialog_Pop_Sound")},playMusic:function(t,e){var n="audio/"+t;null==GM.hasLoadSound[n]?cc.loader.loadRes(n,cc.AudioClip,function(t,i){t?cc.error(t.message||t):(cc.audioEngine.playMusic(i,e),GM.hasLoadSound[n]=i)}):cc.audioEngine.playEffect(GM.hasLoadSound[n],!1)},display:function(t,e){if(void 0===e)return t.getSpriteFrame();"string"==typeof e&&(GM.hasLoadImg[e]?t.getComponent(cc.Sprite).spriteFrame=GM.hasLoadImg[e]:cc.loader.loadRes(e,cc.SpriteFrame,function(n,i){n?cc.error(n.message||n):(GM.hasLoadImg[e]=i,t.getComponent(cc.Sprite).spriteFrame=i)}))},getSuffixName:function(t){var e=t.lastIndexOf("."),n=t.length;return t.substring(e+1,n)},loadUrlImg:function(t,e){GM.hasLoadImg[e]?t.getComponent(cc.Sprite).spriteFrame=GM.hasLoadImg[e]:cc.loader.load({url:e,type:o.getSuffixName(e)},function(n,i){var o=new cc.SpriteFrame(i);t.getComponent(cc.Sprite).spriteFrame=o,GM.hasLoadImg[e]=o})},exto:function(t,e,n){n=n||0,t.getParent()?(t.removeFromParent(!1),e.addChild(t,n)):e.addChild(t,n)},setColor:function(t,e){t.color=e;for(var n=t.getChildren(),i=0;i<n.length;i++)o.setColor(n[i],e)},getDateString:function(t){return new Date(t).Format("yyyy-MM-dd hh:mm:ss")},getNow:function(){return(new Date).getTime()},showTip:function(t){uiFunc.clearUI("common/uiCommonTips"),uiFunc.openUI("common/uiCommonTips",function(e){e.init(t)})},ifNull:function(t,e){return null==t?e:t},encodeTab:function(t){var e="";for(var n in t)e=e+n+"="+o.urlencode(t[n])+"&";return e=e.slice(0,-1)},urlencode:function(t){return"object"===(void 0===t?"undefined":i(t))&&(t=JSON.stringify(t)),t=(t+"").toString(),encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},getRandom:function(t){return Math.floor(Math.random()*t)%t},tabcontains:function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},getStorageData:function(t){return cc.sys.localStorage.getItem(t)},saveStorageData:function(t,e){cc.sys.localStorage.setItem(t,e)},openUi:function(t,e){var n="ui/"+t;if(GM.hasLoadPrefab[n]){var i=cc.instantiate(GM.hasLoadPrefab[n]);e(i)}else cc.loader.loadRes(n,function(t,i){if(t)cc.error(t.message||t);else{GM.hasLoadPrefab[n]=i;var o=cc.instantiate(i);e(o)}})},useShader:function(t,e){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(t&&t.spriteFrame&&t.lab!=e){if(e){if(null==e.vert||null==e.frag)return void console.warn("Shader not defined",e);cc.dynamicAtlasManager.enabled=!1;var n=new ShaderMaterial,i=e.name?e.name:"None";n.callfunc(i,e.vert,e.frag,e.defines||[]);var o=t.spriteFrame.getTexture();return n.setTexture(o),n.updateHash(),t._material=n,t._renderData.material=n,t.lab=e,n}t.setState(1)}}else console.warn("Shader not surpport for canvas")},useLabShader:function(t,e){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(t&&t.spriteFrame&&t.getState()!==e){if(ShaderType[e]){var n=ShaderType[e],i=ShaderLab[n];if(!i)return void console.warn("Shader not defined",n);cc.dynamicAtlasManager.enabled=!1;var o=new ShaderMaterial;o.callfunc(n,i.vert,i.frag,i.defines||[]);var r=t.spriteFrame.getTexture();return o.setTexture(r),o.updateHash(),t._material=o,t._renderData.material=o,t._state=e,o}t.setState(1)}}else console.warn("Shader not surpport for canvas")},setTextMaxWidth:function(t,e){var n=t.width;if(n>e){var i=t.getComponent(cc.Label).string,o=i.length,r=Math.ceil(o*e/n);r<o&&(i=i.substr(0,r),t.setLabel(i+"..."))}},isIos:function(){return cc.sys.os===cc.sys.OS_IOS},linkWidget:function(t,e){for(var n=t.children,i=0;i<n.length;i++){var r=n[i].name;if(r&&r.indexOf("_")>0){var c=r;e[c],e[c]=n[i]}n[i].childrenCount>0&&o.linkWidget(n[i],e)}},randomRange:function(t,e){e=e||0,t=t||0;var n=Math.random()*(e-t+1);return Math.floor(t+n)},isNull:function(t){return void 0==t||(""==t||(null==t||!t))},copyObj:function(t,e){e=e||{};for(var n in t)"object"===i(t[n])?(e[n]=t[n].constructor===Array?[]:{},o.copyObj(t[n],e[n])):e[n]=t[n];return e},getCirclePos:function(t,e,n){var i=e.x+Math.cos(t)*n,o=e.y+Math.sin(t)*n;return cc.v2(i,o)},angleToRotation:function(t){return 180/Math.PI*t},TwoPointAngle:function(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),o=i/Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),r=Math.acos(o),c=Math.floor(180/(Math.PI/r));return e.x>t.x&&e.y>t.y?c=180-c:e.x==t.x&&e.y>t.y?c=180:e.x>t.x&&e.y==t.y?c=90:e.x<t.x&&e.y>t.y?c=180+c:e.x<t.x&&e.y==t.y?c=270:e.x<t.x&&e.y<t.y&&(c=360-c),c=-180-c},loadJson:function(t,e){var n="json/"+t;null==GM.hasLoadJson[n]?cc.loader.loadRes(n,function(t,i){t?cc.error(t):(GM.hasLoadJson[n]=i.json,null!=e&&e(i.json))}):null!=e&&e(GM.hasLoadJson[n])},rand:function(t,e){return null==e&&(e=t,t=0),Math.random()*(e-t)+t},randInt:function(t,e){return Math.round(this.rand(t,e))},sendWebMsg:function(t,e){if(t.UserID=wxData.get("userid"),t.TokenID=wxData.get("tokenid"),0!=t.UserID&&0!=t.TokenID){var n={action:"test",parma:t};HTTP.GET(webData.get("Default"),n,function(t){e(t)})}},getUserStorageBool:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=wxUtil.getUserStorageDataSync(t);return n?"true"===n:e},readShakeSetting:function(){return o.getUserStorageBool("hasShake")},showAlert:function(t,e){uiFunc.clearUI("common/uiAlert"),uiFunc.openUI("common/uiAlert",function(n){n.init(t,e)})},formatNum:function(t){null==t&&(t=0);for(var e=""+t,n=0,i="",o=e.length-1;o>=0;o--){i=e[o]+i,3==(n+=1)&&0!=o&&(i=","+i,n=0)}return i}},r=Math.pow(10,3),c=Math.pow(10,6),a=Math.pow(10,9),s=Math.pow(10,12),u=Math.pow(10,15),l=Math.pow(10,18),h=Math.pow(10,21);Math.pow(10,24);o.getEasyNum=function(t){var e="";if(t<1e6)e=o.formatNum(t);else if(t>=1e6&&t<1e6*r){var n=Math.floor(t/r);e=o.formatNum(n)+"K"}else if(t>=1e6*r&&t<1e6*c){n=Math.floor(t/c);e=o.formatNum(n)+"M"}else if(t>=1e6*c&&t<1e6*a){n=Math.floor(t/a);e=o.formatNum(n)+"B"}else if(t>=1e6*a&&t<1e6*s){n=Math.floor(t/s);e=o.formatNum(n)+"T"}else if(t>=1e6*s&&t<1e6*u){n=Math.floor(t/u);e=o.formatNum(n)+"P"}else if(t>=1e6*u&&t<1e6*l){n=Math.floor(t/l);e=o.formatNum(n)+"E"}else if(t>=1e6*l&&t<1e6*h){n=Math.floor(t/h);e=o.formatNum(n)+"o"}return e},e.exports=o,cc._RF.pop()},{extend:"extend",wxUtil:"wxUtil"}],wxData:[function(t,e,n){"use strict";cc._RF.push(e,"3b20fntukJEmJ0TZiP34Jny","wxData");var i=t("md5"),o=t("baseData");cc.Class({extends:o,name:"wxData",properties:{szName:"guest1",userid:0,sign:"",sex:0,headweb:"",szToken:"",nickName:"guest1",iIssue:0,iPCID:0,szMD5:"",bRegWay:0,iAreaID:1157,szMD5Pass:"",szHeadWeb:"",iWBFlag:1,szMac:"",bIsGameShown:!0,ver:"1.004",_isExamine:!0,_isDev:!1,sdkver:673,shareCallback:null,sharePro1:50,sharePro2:80,shareTime:0,query:null},ctor:function(){this.on("szName",this.update_MD5.bind(this)),this.on("userid",this.update_MD5.bind(this))},update_MD5:function(){this.set("szToken",i(this.get("userid"))),this.set("szMac",i(this.get("userid")));var t=i(cc.js.formatStr("7%s8%s0%d",this.get("szName"),this.get("szMac"),this.get("iWBFlag")));this.set("szMD5",t),this.set("szMD5Pass",i(i(i(this.get("szName")))+"110"))},hasShareCallback:function(){return this.get("sdkver")<673},isShareSuc:function(t){var e=Math.random();return console.log("per:",e),console.log("shareSuc:",e<this.get(t)/100),e<this.get(t)/100}}),cc._RF.pop()},{baseData:"baseData",md5:"md5"}],wxUtil:[function(t,e,n){"use strict";cc._RF.push(e,"37a8bFtjjJPeJFrQoWLkGCi","wxUtil"),window.wxUtil={},wxUtil.shareToWx=function(t){var e=["\u7b80\u5355\u7684\u6e38\u620f\u81ea\u6709\u7b80\u5355\u7684\u8da3\u5473...","\u4f5b\u7cfb\u6e38\u620f\uff0c\u73a9\u6e38\u620f\u672c\u6765\u5c31\u662f\u8ba9\u81ea\u5df1\u8f7b\u677e\u968f\u610f\u7684\u4e8b\u60c5..."];GM.waitShareCallBack=!0,wxData.set("shareCallback",null);var n=util.randomRange(1,e.length);t.imgageUrl="https://img-blog.csdnimg.cn/20181223214315399.jpg",cc.log("obj.imgageUrl:",t.imgageUrl),t.title=e[n-1]||t.title,t.query?t.query=t.query+"&shareImgIndex="+n:t.query="shareImgIndex="+n,cc.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883,\u65e0\u6cd5\u5206\u4eab"),t.success()},wxUtil.loginWx=function(t){cc.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883,\u65e0\u6cd5\u767b\u5f55"),t&&t()},wxUtil.getUserInfo=function(t,e){cc.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883,\u65e0\u6cd5\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f")},wxUtil.getLaunchParam=function(){return{}},wxUtil.getUserAuthInfo=function(t,e){cc.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883,\u65e0\u6cd5\u5206\u4eab")};wxUtil.fhowAD=function(t,e,n,i){this._adcallback=e,this.failCallBack=n,this.errCallBack=i;cc.audioEngine.getEffectsVolume(),cc.audioEngine.getMusicVolume();e&&e()};wxUtil.resetAdPos=function(t,e,n,i){console.log("resetAdPos ",t);var o=wx.getSystemInfoSync(),r=o.screenWidth/2,c=o.screenHeight;if(e.style.left=r-e.style.realWidth/2+.1,e.style.top=c-e.style.realHeight+.1,n&&cc.isValid(n)){var a=e.style.realHeight/c*cc.winSize.height,s=(n.y-n.height*n.scale/2+cc.winSize.height/2)/cc.winSize.height*c;if(i)e.style.top=c-s+.1;else if(n.y=-cc.winSize.height/2+a+n.height*n.scale/2,n.brotherNode){var u=n.brotherNode;u.y=-cc.winSize.height/2+a+u.height*u.scale/2}}},wxUtil.showBanner=function(t,e,n,i){cc.isValid(e)?(GM.BannerList=GM.BannerList||{},console.log("\u975e\u5c0f\u7a0b\u5e8f\u73af\u5883\u6ca1\u6709banner\u5e7f\u544a")):cc.error("not node")},wxUtil.createUserInfoButton=function(t,e){return t},wxUtil.getUserStorageDataSync=function(t){return cc.log("get         key : ",t),null},wxUtil.saveUserStorageDataSync=function(t,e){return cc.log("save       value, key : ",t," ---- ",e),!1},wxUtil.pay=function(t,e){wx.requestMidasPayment({mode:"game",offerId:"",buyQuantity:10,zoneId:1,success:function(){cc.log("\u652f\u4ed8\u6210\u529f")},fail:function(t){var e=t.errMsg,n=t.errCode;cc.log(e,n)}})},wxUtil.startOtherGame=function(t,e){console.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u73af\u5883!")},wxUtil.openCustomerService=function(t){console.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u73af\u5883!")},wxUtil.onShow=function(t){console.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u73af\u5883!")},wxUtil.isShareToGroup=function(t,e){console.log("\u5f53\u524d\u4e0d\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u73af\u5883!")},wxUtil.getSystemInfoSync=function(){0},wxUtil.vibrate=function(){0},cc._RF.pop()},{}]},{},["HelloWorld","runtime","baseData","csvData","md5","HTTP","baseDlg","baseNode","baseWin","uiFunc","extend","util","wxUtil","init","main","initMsg","uiAlert","uiCommonTips","uiLogin","uiTest","audioData","gameData","initDatas","wxData","ui2048","Tile","uiPlusOne","star","uiPopStar","ShaderComponent","ShaderLab","ShaderMaterial","ShaderNew","ShaderBins","ShaderIce","ShaderStone","ShaderWenyu","WenyuMain","uiShader","uiHall"]);